(self.webpackChunkantd=self.webpackChunkantd||[]).push([[958,729],{87958:function(b,H,C){"use strict";C.r(H),C.d(H,{BarChart:function(){return da},BoxHidden:function(){return er},Circle:function(){return de},Context:function(){return ct},DraggableLine:function(){return lr},Group:function(){return Kn},KLineChart:function(){return la},Line:function(){return je},LineChart:function(){return ua},PieChart:function(){return fa},Rect:function(){return rr},Sector:function(){return fr},Stage:function(){return Qn},Text:function(){return sr},Trapezoid:function(){return ur}});var V=C(5574),O=C.n(V),_=C(97857),m=C.n(_),y=C(67294),$=C(12444),D=C.n($),q=C(72004),k=C.n(q),W=C(25098),T=C.n(W),ut=C(31996),N=C.n(ut),ne=C(26037),X=C.n(ne),Ht=C(9783),v=C.n(Ht),ft=C(1343),re={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]},ae={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(i){var n=i[0]/360,t=i[1]/100,e=i[2]/100,r,a,o,s,c,u=0;if(t===0)return c=e*255,[c,c,c];for(a=e<.5?e*(1+t):e+t-e*t,r=2*e-a,s=[0,0,0];u<3;)o=n+1/3*-(u-1),o<0?o++:o>1&&o--,c=6*o<1?r+(a-r)*6*o:2*o<1?a:3*o<2?r+(a-r)*(2/3-o)*6:r,s[u++]=c*255;return s}};re.hsl=function(i){var n=i[0]/255,t=i[1]/255,e=i[2]/255,r=Math.min(n,t,e),a=Math.max(n,t,e),o=a-r,s,c,u;return a===r?s=0:n===a?s=(t-e)/o:t===a?s=2+(e-n)/o:e===a&&(s=4+(n-t)/o),s=Math.min(s*60,360),s<0&&(s+=360),u=(r+a)/2,a===r?c=0:u<=.5?c=o/(a+r):c=o/(2-a-r),[s,c*100,u*100]};function me(i){Array.isArray(i)&&i.raw&&(i=String.raw(...arguments)),i instanceof Number&&(i=+i);var n,t,e,r=(0,ft.Z)(i);if(!r.space)return[];const a=r.space[0]==="h"?ae.min:re.min,o=r.space[0]==="h"?ae.max:re.max;return n=Array(3),n[0]=Math.min(Math.max(r.values[0],a[0]),o[0]),n[1]=Math.min(Math.max(r.values[1],a[1]),o[1]),n[2]=Math.min(Math.max(r.values[2],a[2]),o[2]),r.space[0]==="h"&&(n=ae.rgb(n)),n.push(Math.min(Math.max(r.alpha,0),1)),n}var Se=function(n,t,e){if(typeof n=="number"&&typeof t=="number")return r(n,t);if(Array.isArray(n)&&Array.isArray(t))return n.map(function(a,o){return r(a,t[o])});function r(a,o){var s=o-a,c=e*s,u=a+c,d=a<o?a:o,h=a>o?a:o;return u=Math.max(u,d),u=Math.min(u,h),u;if(a<o){var p=a+c;return p>o?o:p}if(a>o){var f=a-c;return f<o?o:f}return o}};function fn(i,n,t){if(t<=0)return i;if(t>=1)return n;var e=me(i),r=O()(e,4),a=r[0],o=r[1],s=r[2],c=r[3],u=me(n),d=O()(u,4),h=d[0],p=d[1],f=d[2],g=d[3],x=Math.round(a+(h-a)*t),A=Math.round(o+(p-o)*t),w=Math.round(s+(f-s)*t),S=c+(g-c)*t;return"rgba(".concat(x,", ").concat(A,", ").concat(w,", ").concat(S,")")}var Wt={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return .5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return n===0?0:Math.pow(1024,n-1)},exponentialOut:function(n){return n===1?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var t,e=.1,r=.4;return n===0?0:n===1?1:(!e||e<1?(e=1,t=r/4):t=r*Math.asin(1/e)/(2*Math.PI),-(e*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/r)))},elasticOut:function(n){var t,e=.1,r=.4;return n===0?0:n===1?1:(!e||e<1?(e=1,t=r/4):t=r*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*n)*Math.sin((n-t)*(2*Math.PI)/r)+1)},elasticInOut:function(n){var t,e=.1,r=.4;return n===0?0:n===1?1:(!e||e<1?(e=1,t=r/4):t=r*Math.asin(1/e)/(2*Math.PI),(n*=2)<1?-.5*(e*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/r)):e*Math.pow(2,-10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/r)*.5+1)},backIn:function(n){var t=1.70158;return n*n*((t+1)*n-t)},backOut:function(n){var t=1.70158;return--n*n*((t+1)*n+t)+1},backInOut:function(n){var t=2.5949095;return(n*=2)<1?.5*(n*n*((t+1)*n-t)):.5*((n-=2)*n*((t+1)*n+t)+2)},bounceIn:function(n){return 1-Wt.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?Wt.bounceIn(n*2)*.5:Wt.bounceOut(n*2-1)*.5+.5}},hn={duration:1e3,easing:"linear"},ba=[function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){}],we=function(){function i(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};D()(this,i),v()(this,"cfg",void 0),v()(this,"startValue",void 0),v()(this,"endValue",void 0),v()(this,"centerValue",void 0),v()(this,"rafTimer",void 0),v()(this,"startTime",null),v()(this,"runing",!1),v()(this,"isBreak",!1),v()(this,"handEnd",!1),this.startValue=n,this.endValue=t,this.centerValue=n,this.cfg=m()(m()({},hn),e)}return k()(i,[{key:"setBreak",value:function(t){this.isBreak=t}},{key:"setStartValue",value:function(t){this.startValue=t}},{key:"setEndValue",value:function(t){this.endValue=t,this.runing||this.start()}},{key:"setDuration",value:function(t){this.cfg.duration=t}},{key:"setAheadEnd",value:function(){this.handEnd=!0,this.onUpdate(this.endValue,1),this.setBreak(!0),this.stop()}},{key:"start",value:function(){var t=this;this.runing=!0;var e=function r(a){var o=t.cfg,s=o.duration,c=o.easing,u=o.during;t.startTime||(t.startTime=a);var d=Math.min((a-t.startTime)/s,1);t.centerValue=Se(t.startValue,t.endValue,d),t.onUpdate(t.centerValue,d),d<1&&!t.isBreak&&(t.rafTimer=requestAnimationFrame(r)),d===1&&(t.onUpdate(t.centerValue,d),t.runing=!1,t.startTime=null,t.startValue=t.endValue,t.onDone())};requestAnimationFrame(e)}},{key:"onUpdate",value:function(t,e){}},{key:"onDone",value:function(){}},{key:"stop",value:function(){this.runing=!1,cancelAnimationFrame(this.rafTimer)}}]),i}(),vn={duration:1e3,easing:"linear"},Ae=function(){function i(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};D()(this,i),v()(this,"cfg",void 0),v()(this,"startProp",void 0),v()(this,"targetProp",void 0),v()(this,"rafTimer",void 0),this.startProp=n,this.targetProp=t,this.cfg=m()(m()({},vn),e)}return k()(i,[{key:"start",value:function(){var t=this,e,r=this.cfg,a=r.duration,o=r.easing,s=r.during,c=Object.keys(this.targetProp),u=function d(h){e||(e=h);var p=Wt[o](Math.min((h-e)/a,1)),f={};c.forEach(function(g){var x=t.startProp[g],A=t.targetProp[g];if(typeof x=="string"&&typeof A=="string"){var w=fn(x,A,p);f[g]=w;return}var S=Se(t.startProp[g],t.targetProp[g],p);f[g]=S}),t.onUpdate(f,p),s&&s(p,f),p<1&&(t.rafTimer=requestAnimationFrame(d)),p===1&&t.onDone()};requestAnimationFrame(u)}},{key:"onUpdate",value:function(t,e){}},{key:"onDone",value:function(){}},{key:"stop",value:function(){cancelAnimationFrame(this.rafTimer)}}]),i}(),pn=["click"],yn=["onmouseleave","onmouseenter","onmousemove","onmousedown","onmouseup","onclick"],Et=window.devicePixelRatio,ht=function(){},gn=function(){function i(n){D()(this,i),v()(this,"onclick",ht),v()(this,"onmouseenter",ht),v()(this,"onmousemove",ht),v()(this,"onmouseleave",ht),v()(this,"onmousedown",ht),v()(this,"onmouseup",ht),v()(this,"ondragstart",ht),v()(this,"ondrag",ht),v()(this,"ondragend",ht),v()(this,"parent",null),v()(this,"data",null),v()(this,"path2D",null),v()(this,"eventTypeHandlerMap",new Map);for(var t in n)t.startsWith("on")&&(this[t]=n[t])}return k()(i,[{key:"on",value:function(t,e){var r=this,a=this.eventTypeHandlerMap.get(t);return a||(a=[],this.eventTypeHandlerMap.set(t,a)),a.push(e),function(){r.off(t,e)}}},{key:"off",value:function(t,e){var r=this.eventTypeHandlerMap.get(t);!r||r.length===0||this.eventTypeHandlerMap.set(t,r.filter(function(a){return a!==e}))}}]),i}(),Ce=gn,be=[],ka=null,xn=function(){for(var n;n=be.shift();)n.cb()},ie=!0,mn=function(n){var t={cb:n};be.push(t),ie&&window.queueMicrotask(xn),ie=!1},Sn=function(){ie=!0},wn=C(64599),oe=C.n(wn),Ra=C(52677);function ke(i){return i.type==="Group"}function Re(i){return i.type==="BoxHidden"}function Ee(i){return i.type==="Line"}function An(i){return i.type==="Text"}function Ft(i){return i.type==="Stage"}var Cn=C(61227),De=C.n(Cn);function bn(i,n){var t=De()(i),e=t[0],r=t[1],a=t.slice(2),o=new Path2D;if(n===0)return o;var s=Vt(i),c=Rn(s),u=c.length*n,d=Math.floor(u),h=u-d,p=c[Math.ceil(u)-1],f=kn(h,p),g=c.slice(0,d);return n!==1&&g.push({start:p.start,end:f.tempEnd,cp1:f.cp1,cp2:f.cp2}),o.moveTo(e,r),g.forEach(function(x){o.bezierCurveTo(x.cp1.x,x.cp1.y,x.cp2.x,x.cp2.y,x.end.x,x.end.y)}),o}function kn(i,n){var t=n.start,e=n.cp1,r=n.cp2,a=n.end,o=(1-i)*t.x+i*e.x,s=(1-i)*t.y+i*e.y,c=(1-i)*e.x+i*r.x,u=(1-i)*e.y+i*r.y,d=(1-i)*r.x+i*a.x,h=(1-i)*r.y+i*a.y,p=(1-i)*o+i*c,f=(1-i)*s+i*u,g=(1-i)*c+i*d,x=(1-i)*u+i*h,A=(1-i)*p+i*g,w=(1-i)*f+i*x;return{cp1:{x:o,y:s},cp2:{x:p,y:f},tempEnd:{x:A,y:w}}}function Rn(i,n){for(var t=[],e=function(){var s=i[r-1],c=i[r],u=i[r+1],d=(u.y-s.y)/(u.x-s.x),h=c.y-d*c.x,p=n==="old"?M():S(),f=p.cp1_x,g=p.cp2_x,x=p.distance,A=d*f+h,w=d*g+h;function S(){var E=(u.x-c.x)/3,R=c.x-E,P=c.x+E,I=(u.x-c.x)/2;return{cp1_x:R,cp2_x:P,distance:I}}function M(){var E=(u.x-c.x)/2,R=function(Y){return Math.pow(Y,2)},P=4*(R(d)+1)*(R(c.x)-2*c.y*h+R(c.y)+R(h)-Math.pow(E,2)),I=Math.sqrt(R(2*d*h-2*c.x-2*c.y*d)-P),F=-(2*d*h-2*c.x-2*c.y*d),B=2*(R(d)+1),tt=(F-I)/B,et=(F+I)/B;return{cp1_x:tt,cp2_x:et,distance:E}}(c.y>=s.y&&c.y>=u.y||c.y<=s.y&&c.y<=u.y)&&(f=c.x-x,A=c.y,g=c.x+x,w=c.y),t.push({x:f,y:A},{x:g,y:w})},r=1;r<i.length-1;r++)e();return t.unshift(i[0]),t.push(i.at(-1)),a(t,i);function a(o,s){for(var c=[],u=0;u<s.length-1;u++){var d=s[u],h=s[u+1],p=o[u*2],f=o[u*2+1];c.push({start:d,end:h,cp1:p,cp2:f})}return c}}function En(i,n){return(i.y-n.y)/(i.x-n.x)}function Me(i,n){return n.y-i*n.x}function Dn(i){var n=i.reduce(function(r,a,o){if(o===0)return r;var s={start:i[o-1],end:a};return r.concat(s)},[]),t=[],e=n.reduce(function(r,a){var o=jt(a.start,a.end);return t.push(o),r+o},0);return{totalLineLength:e,lines:n,lineLengths:t}}function jt(i,n){return Math.sqrt(Math.pow(i.x-n.x,2)+Math.pow(i.y-n.y,2))}function Mn(i,n){for(var t=Vt(i),e=Dn(t),r=e.totalLineLength,a=e.lines,o=e.lineLengths,s=r*n,c=0,u=0,d=0;d<o.length;d++)if(u+=o[d],u>=s){c=d;break}var h=function(){var g=a[c],x=s-o.slice(0,c).reduce(function(M,E){return M+E},0),A=x/o[c],w=A*(g.end.x-g.start.x)+g.start.x,S=A*(g.end.y-g.start.y)+g.start.y;return{x:w,y:S}}(),p=t.slice(0,c+1).concat(h),f=Q(p);return f}function Tn(i,n){var t=new Path2D,e=Mn(i,n),r=De()(e),a=r[0],o=r[1],s=r.slice(2),c=Vt(s);return t.moveTo(a,o),c.forEach(function(u){var d=u.x,h=u.y;t.lineTo(d,h)}),t}function Q(i){return i.reduce(function(n,t){return n.concat(t.x,t.y)},[])}function Vt(i){return i.reduce(function(n,t,e){var r=Math.floor(e/2);return e%2==0?n.push([t]):n[r].push(t),n},[]).map(function(n){var t=O()(n,2),e=t[0],r=t[1];return{x:e,y:r}})}function Te(i){var n=i.points,t=i.closed,e=i.smooth,r=i.percent,a=e?bn(n,r):Tn(n,r);return t&&a.closePath(),a}function at(i,n,t,e){var r=se(e),a=i+t*Math.cos(r),o=n+t*Math.sin(r);return{x:a,y:o}}function se(i){return i*Math.PI/180}function Ea(i){return i*180/Math.PI}var Ie=function(n,t,e){n.save(),n.clip(t),e(),n.restore()},It;function xt(i,n){It||(It=document.createElement("canvas").getContext("2d")),Pe(It,n);var t=It.measureText(i),e=t.actualBoundingBoxAscent,r=t.actualBoundingBoxDescent,a=t.width,o=e+r||parseInt(It.font);return{textWidth:a,textHeight:o}}function Pe(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:14;i.font="".concat(n,"px \u5FAE\u8F6F\u96C5\u9ED1")}function Da(i,n){if(Object.is(i,n))return!0;if(_typeof(i)!=="object"||i===null||_typeof(n)!=="object"||n===null)return!1;var t=Object.keys(i),e=Object.keys(n);if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var a=t[r];if(!Reflect.has(n,a)||!Object.is(i[a],n[a]))return!1}return!0}function In(i){_e(i);var n=i.ctx;n.clearRect(0,0,i.canvasElement.width,i.canvasElement.height),t(i.children);function t(e){e.forEach(function(r){var a=r.data;switch(n.beginPath(),Oe(n,r),r.type){case"Circle":{Le(n,r);break}case"Trapezoid":{r.path2D=_n(r.data),a.fillStyle&&n.fill(r.path2D),Yt(a.lineWidth,a.strokeStyle)&&n.stroke(r.path2D);break}case"Line":{var o=a,s=o.closed,c=o.path2D;r.path2D=c||Te(a),Yt(a.lineWidth,a.strokeStyle)&&n.stroke(r.path2D),s&&n.fill(r.path2D);break}case"Rect":{r.path2D=ce(a),a.fillStyle&&n.fill(r.path2D),Yt(a.lineWidth,a.strokeStyle)&&n.stroke(r.path2D);break}case"Text":{var u=a,d=u.x,h=u.y,p=u.content,f=u.fontSize,g=u.textAlign,x=g===void 0?"left":g,A=u.textBaseline;Pe(n,f),n.textBaseline=A,n.textAlign=x,n.fillText(p,d,h);break}case"Group":{t(r.children);break}case"BoxHidden":{r.path2D=ce(a),Ie(n,r.path2D,function(){r.data.fillStyle&&n.fill(r.path2D),Yt(r.data.lineWidth,r.data.strokeStyle)&&n.stroke(r.path2D),t(r.children)});break}default:console.log(r.type,"\u8BE5\u56FE\u5F62 \u6682\u672A\u5B9E\u73B0");break}})}}function Le(i,n){var t=n.data,e=t.x,r=t.y,a=t.radius,o=t.innerRadius,s=t.strokeStyle,c=t.startAngle,u=t.endAngle,d=t.offsetAngle,h=c===0&&u===360,p=o?On(a,o,c,u,e,r,h):Ln(a,c,u,e,r,h,d);n.path2D=new Path2D(p),s&&i.stroke(n.path2D),i.fill(n.path2D)}function Oe(i,n){var t=n.data,e=t.lineWidth,r=t.lineCap,a=t.lineJoin,o=t.strokeStyle,s=t.fillStyle,c=t.opacity,u=t.lineDash,d=t.shadowBlur,h=t.shadowColor,p=t.shadowOffsetX,f=t.shadowOffsetY,g=t.transform;i.lineWidth=e,i.lineCap=r,i.lineJoin=a,i.strokeStyle=o,i.fillStyle=s,i.setLineDash(u),i.globalAlpha=c,i.shadowOffsetX=p,i.shadowOffsetY=f,i.shadowColor=h,i.shadowBlur=d}function _e(i){if(i.children){i.children=Pn(i.children);var n=oe()(i.children),t;try{for(n.s();!(t=n.n()).done;){var e=t.value;_e(e)}}catch(r){n.e(r)}finally{n.f()}}}function Pn(i){return i.toSorted(function(n,t){var e,r,a=(e=n.data.zIndex)!==null&&e!==void 0?e:0,o=(r=t.data.zIndex)!==null&&r!==void 0?r:0;return a-o})}var Ln=function(n,t,e,r,a,o,s){t=t+s,e=e+s;var c=t*Math.PI/180,u=e*Math.PI/180,d=r+n*Math.cos(c),h=a+n*Math.sin(c),p=r+n*Math.cos(u),f=a+n*Math.sin(u),g=e-t<=180?0:1,x=1,A=a-n,w=o?"M".concat(r,",").concat(A," A").concat(n,",").concat(n," 0 1 1, ").concat(r-.01,",").concat(a-n,"Z"):"M".concat(r,",").concat(a," L").concat(d,",").concat(h," A").concat(n,",").concat(n," 0 ").concat(g,",").concat(x," ").concat(p,",").concat(f," Z");return w},On=function(n,t,e,r,a,o,s){return s?c():u();function c(){var d=o-n,h="M ".concat(a," ").concat(d),p="A ".concat(n," ").concat(n," 0 1 1 ").concat(a-.01," ").concat(d),f=o-t,g="M ".concat(a," ").concat(f),x="A ".concat(t," ").concat(t," 0 1 0 ").concat(a+.01," ").concat(f);return"".concat(h," ").concat(p," ").concat(g," ").concat(x," Z")}function u(){var d=at(a,o,n,e),h=at(a,o,n,r),p=r-e>=180?1:0,f="M ".concat(d.x," ").concat(d.y),g="A ".concat(n," ").concat(n," 0 ").concat(p," 1 ").concat(h.x," ").concat(h.y),x=at(a,o,t,e),A=at(a,o,t,r),w="L".concat(A.x," ").concat(A.y),S="A ".concat(t," ").concat(t," 0 ").concat(p," 0 ").concat(x.x," ").concat(x.y);return"".concat(f," ").concat(g," ").concat(w," ").concat(S," Z")}};function ce(i){var n=i.x,t=i.y,e=i.width,r=i.height,a=i.cornerRadius,o=a===void 0?0:a,s=new Path2D;return s.moveTo(n+o,t),s.lineTo(n+e-o,t),s.arc(n+e-o,t+o,o,Math.PI/2*3,0),s.lineTo(n+e,t+r-o),s.arc(n+e-o,t+r-o,o,0,Math.PI/2),s.lineTo(n+o,t+r),s.arc(n+o,t+r-o,o,Math.PI/2,Math.PI),s.lineTo(n,t+o),s.arc(n+o,t+o,o,Math.PI,Math.PI/2*3),s.closePath(),s}function _n(i){var n=i.x,t=i.y,e=i.width,r=i.height,a=i.shortLength,o=new Path2D,s;return typeof a=="number"?s=a:typeof a=="string"&&(s=parseFloat(a)/100*e),o.moveTo(n+(e/2-s/2),t),o.lineTo(n+(e/2-s/2)+s,t),o.lineTo(n+e,t+r),o.lineTo(n,t+r),o.closePath(),o}function Yt(i,n){return i>0&&i!==1/0&&n}var Bn={lineWidth:1,opacity:1,shadowBlur:0,shadowColor:"orange",shadowOffsetX:0,shadowOffsetY:0,lineCap:"butt",lineJoin:"miter",lineDash:[],pointerEvents:"all",transform:[1,0,0,1,0,0]},zn=function(n,t){return m()(m()(m()({},Bn),t),n)},Hn=function(i){N()(t,i);var n=X()(t);function t(e,r,a){var o;return D()(this,t),o=n.call(this,r),v()(T()(o),"type",void 0),v()(T()(o),"extraData",void 0),v()(T()(o),"stage",void 0),v()(T()(o),"animators",[]),o.type=e,o.data=zn(r,a),o}return k()(t,[{key:"pinTop",value:function(){if(!this.parent){console.warn("\u8FD8\u6CA1\u6709\u88AB append");return}var r=this.parent.children;r.splice(r.indexOf(this),1),r.push(this)}},{key:"attr",value:function(){for(var r,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];switch(o.length){case 1:{var c=o[0];this.data=m()(m()({},this.data),c);break}case 2:{var u=o[0],d=o[1];this.data[u]=d;break}default:console.log("\u672A\u5B9E\u73B0\u7684\u53C2\u6570\u6570\u91CF");break}(r=this.stage)===null||r===void 0||r.renderStage()}},{key:"attrAsync",value:function(r){var a=this,o;mn(function(){a.data=m()(m()({},a.data),r)}),(o=this.stage)===null||o===void 0||o.renderStage()}},{key:"attrDirty",value:function(r){var a=this,o=this.getBoundingRect();this.data=m()(m()({},this.data),r);var s=this.getBoundingRect(),c=Math.min(o.x,s.x),u=Math.min(o.y,s.y),d={x:c,y:u,width:Math.max(o.x+o.width,s.x+s.width)-c,height:Math.max(o.y+o.height,s.y+s.height)-u};this.stage.renderDirtyRectUi(d);var h=this.stage.ctx;h.clearRect(d.x,d.y,d.width,d.height);var p=this.stage.children.filter(function(f){return f.type==="Circle"}).filter(function(f){return f!==a}).filter(function(f){return Fn(d,f.getBoundingRect())});Ie(h,ce(d),function(){var f=p.concat(a),g=a.stage.children.filter(function(x){return f.includes(x)});g.forEach(function(x){Oe(h,x),Le(h,x)})})}},{key:"getBoundingRect",value:function(){}},{key:"remove",value:function(){var r=this.parent.children;r.splice(r.indexOf(this),1),this.stage.renderStage()}},{key:"animateCartoon",value:function(r){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.stage)return new Promise(function(u){});var s=Object.keys(r).reduce(function(u,d){return Object.assign(u,v()({},d,a.data[d]))},{}),c=new Ae(s,r,o);return this.animators.push(c),c.start(),c.onUpdate=function(u){a.attr(m()(m()({},a.data),u))},new Promise(function(u){c.onDone=function(){a.animators=a.animators.filter(function(d){return d!==c}),u()}})}},{key:"dispose",value:function(){this.animators.forEach(function(r){r.stop()})}}]),t}(Ce),At=Hn;function Wn(i,n,t,e,r,a,o,s){var c=Math.min(t,o)-Math.max(i,r),u=Math.min(e,s)-Math.max(n,a);return c>0&&u>0}function Fn(i,n){return Wn(i.x,i.y,i.x+i.width,i.y+i.height,n.x,n.y,n.x+n.width,n.y+n.height)}var jn={fillStyle:"#333",fontSize:14,textAlign:"left",textBaseline:"top"},mt=function(i){N()(t,i);var n=X()(t);function t(e){return D()(this,t),n.call(this,"Text",e,jn)}return k()(t)}(At),Ma=null,Vn={lineWidth:1,startAngle:0,endAngle:360,offsetAngle:0},lt=function(i){N()(t,i);var n=X()(t);function t(e){return D()(this,t),n.call(this,"Circle",e,Vn)}return k()(t,[{key:"getBoundingRect",value:function(){var r=this.data,a=0;return{x:r.x-r.radius-a,y:r.y-r.radius-a,width:2*r.radius+a*2,height:2*r.radius+a*2}}}]),t}(At),Ta=null,Be={cornerRadius:0,lineWidth:1},it=function(i){N()(t,i);var n=X()(t);function t(e){return D()(this,t),n.call(this,"Rect",e,Be)}return k()(t)}(At),Yn=it,$n={lineWidth:1,lineCap:"butt",lineJoin:"miter",percent:1},G=function(i){N()(t,i);var n=X()(t);function t(e){var r;return D()(this,t),r=n.call(this,"Line",e,$n),r.path2D=e.path2D?e.path2D:Te(r.data),r}return k()(t)}(At),Ia=null,ze=function(i){N()(t,i);var n=X()(t);function t(e){return D()(this,t),n.call(this,"Trapezoid",e)}return k()(t)}(At),Pa=null;function $t(i,n){i.forEach(function(t){t.stage=n,t.children&&$t(t.children,n)})}var Zn={children:[]},Pt=function(i){N()(t,i);var n=X()(t);function t(){var e,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return D()(this,t),e=n.call(this,"Group",r,Zn),v()(T()(e),"children",[]),e}return k()(t,[{key:"append",value:function(){for(var r=this,a,o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];var u=s.flat(1);this.children=this.children.concat(u),this.children=this.children.map(function(d){return Object.assign(d,{parent:r})}),$t(this.children,this.stage),(a=this.stage)===null||a===void 0||a.renderStage()}}]),t}(At),La=null,ue=function(i){N()(t,i);var n=X()(t);function t(e){var r;return D()(this,t),r=n.call(this,"BoxHidden",e,Be),v()(T()(r),"children",[]),r}return k()(t,[{key:"append",value:function(){for(var r=this,a,o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];var u=s.flat(1);this.children=this.children.concat(u),this.children=this.children.map(function(d){return Object.assign(d,{parent:r})}),$t(this.children,this.stage),(a=this.stage)===null||a===void 0||a.renderStage()}}]),t}(At),Oa=null,Zt=C(5729),Un=function(){function i(){D()(this,i),v()(this,"prevClientX",0),v()(this,"prevClientY",0),v()(this,"dragging",!1)}return k()(i,[{key:"dragStart",value:function(t,e){for(var r=this,a=t.target;a&&!a.data.draggable;){var o=a.parent;if(Ft(o))break;a=o}this.prevClientX=t.nativeEvent.clientX,this.prevClientY=t.nativeEvent.clientY,a.ondragstart({target:a,x:t.x,y:t.y});var s=function(d){d.preventDefault(),r.dragging=!0;var h=d.clientX-e.left,p=d.clientY-e.top;if(a.data.draggable){var f=d.clientX-r.prevClientX,g=d.clientY-r.prevClientY;r.prevClientX=d.clientX,r.prevClientY=d.clientY,Gn(a,f,g),a.ondrag({target:a,x:h,y:p,dx:f,dy:g})}},c=function u(){r.dragging=!1,a.ondragend({target:a,x:null,y:null}),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",u)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",c)}}]),i}();function Gn(i,n,t){var e=i;switch(e.data.draggable){case"horizontal":t=0;break;case"vertical":n=0}He(e,n,t)}function He(i,n,t){if(ke(i))i.children.forEach(function(r){He(r,n,t)});else if(Ee(i)){var e=Vt(i.data.points);e.forEach(function(r){r.x+=n,r.y+=t}),i.attr({points:Q(e)})}else i.attr({x:i.data.x+n,y:i.data.y+t})}function Xn(i,n){var t=document.createElement("canvas"),e=i*Et,r=n*Et;t.width=e,t.height=r,t.style.width="100%",t.style.height="100%";var a=t.getContext("2d");return a.scale(Et,Et),a.textBaseline="top",a.font="".concat(14,"px \u5FAE\u8F6F\u96C5\u9ED1"),{canvasElement:t,ctx:a}}function Nn(i){var n=i.offsetWidth,t=i.offsetHeight,e=Xn(n,t),r=e.canvasElement,a=e.ctx;return i.append(r),{canvasElement:r,ctx:a}}function St(i,n,t){i[n](t);var e=n.slice(2),r=i.eventTypeHandlerMap.get(e);Array.isArray(r)&&r.forEach(function(s){s(t)});var a=i.parent;if(a&&!Ft(a)&&pn.includes(e)){var o=a;St(o,n,m()(m()({},t),{},{target:o}))}}var Jn=function(n){for(var t=[n],e=n.parent;e&&!Ft(e);)t.unshift(e),e=e.parent;return t};function Lt(i,n,t,e){var r=n.toReversed(),a=oe()(r),o;try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.data.pointerEvents!=="none")if(ke(s)||Re(s)){if(Re(s))if(We(i,s,t,e)){var c=Lt(i,s.children,t,e);return c||s}else continue;var u=Lt(i,s.children,t,e);if(u)return u}else{var d=We(i,s,t,e);if(d)return s}}}catch(h){a.e(h)}finally{a.f()}return null}function We(i,n,t,e){i.lineWidth=n.data.lineWidth+5;var r=t*Et,a=e*Et;if(An(n))return c(n);var o=function(){return n.path2D?i.isPointInPath(n.path2D,r,a):!1},s=function(){return n.path2D?i.isPointInStroke(n.path2D,r,a):!1};if(Ee(n)&&!n.data.closed)return s();return o()||s();function c(u){var d=u.data,h=d.x,p=d.y,f=d.content,g=d.fontSize,x=d.textAlign,A=d.textBaseline,w=xt(f,g),S=w.textWidth,M=w.textHeight,E=S/2,R=function(){if(x==="left")return h;if(x==="center")return h-E;if(x==="right")return h-S}(),P=function(){return A==="middle"?p-M/2:p}(),I=R<=t&&t<=R+S,F=P<=e&&e<=P+M;return I&&F}}var Fe=function(i){N()(t,i);var n=X()(t);function t(e){var r;return D()(this,t),r=n.call(this),v()(T()(r),"type","Stage"),v()(T()(r),"canvasElement",void 0),v()(T()(r),"ctx",void 0),v()(T()(r),"children",[]),v()(T()(r),"draggingMgr",new Un),v()(T()(r),"isAsyncRenderTask",!1),v()(T()(r),"hoveredStack",[]),v()(T()(r),"dirtyRectUi",void 0),v()(T()(r),"timer",void 0),e&&r.mount(e),r}return k()(t,[{key:"mount",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=r.container,s=Nn(o);this.canvasElement=s.canvasElement,this.ctx=s.ctx,a&&this.renderStage(),this.addStageEventListener()}},{key:"center",get:function(){return{x:this.canvasElement.offsetWidth/2,y:this.canvasElement.offsetHeight/2}}},{key:"canvasSize",get:function(){return{width:this.canvasElement.offsetWidth,height:this.canvasElement.offsetHeight}}},{key:"dispose",value:function(){var r=function a(o){o.forEach(function(s){s.dispose(),Array.isArray(s.children)&&a(s.children)})};r(this.children)}},{key:"removeAllShape",value:function(){this.dispose(),this.children=[],this.renderStage()}},{key:"append",value:function(){for(var r=this,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var c=o.flat(1);this.children=this.children.concat(c),this.children=this.children.map(function(u){return Object.assign(u,{parent:r})}),$t(this.children,this),this.renderStage()}},{key:"renderStage",value:function(){var r=this;this.isAsyncRenderTask||(this.isAsyncRenderTask=!0,requestAnimationFrame(function(){Sn(),In(r),r.isAsyncRenderTask=!1}))}},{key:"addStageEventListener",value:function(){var r=this;this.canvasElement.onmousemove=function(a){{var o={target:null,x:a.offsetX,y:a.offsetY,nativeEvent:a};St(r,"onmousemove",o)}r.draggingMgr.dragging||r.handleHoveredElement(a.offsetX,a.offsetY)},this.canvasElement.onmouseleave=function(a){r.hoveredStack.length&&(r.hoveredStack.toReversed().forEach(function(s){var c={target:s,x:a.offsetX,y:a.offsetY};St(s,"onmouseleave",c)}),r.hoveredStack=[]);{var o={target:null,x:a.offsetX,y:a.offsetY,nativeEvent:a};r.onmouseleave(o)}},yn.filter(function(a){return!["onmousemove","onmouseleave"].includes(a)}).forEach(function(a){r.canvasElement[a]=function(o){{var s={target:null,x:o.offsetX,y:o.offsetY,nativeEvent:o};r[a](s)}var c=Lt(r.ctx,r.children,o.offsetX,o.offsetY);if(c){var u={target:c,x:o.offsetX,y:o.offsetY,nativeEvent:o};St(c,a,u)}}}),this.canvasElement.addEventListener("mousedown",function(a){var o=Lt(r.ctx,r.children,a.offsetX,a.offsetY);if(o){var s={target:o,x:a.offsetX,y:a.offsetY,nativeEvent:a};r.draggingMgr.dragStart(s,r.canvasElement.getBoundingClientRect())}})}},{key:"handleHoveredElement",value:function(r,a){var o=this,s=Lt(this.ctx,this.children,r,a);if(s){this.setHoveredElementCursor(s);var c={target:s,x:r,y:a};St(s,"onmousemove",c);for(var u=Jn(s),d=this.hoveredStack.length-1;d>=0;d--){var h=this.hoveredStack[d];if(!u.includes(h)){var p={target:h,x:r,y:a};St(h,"onmouseleave",p),this.hoveredStack.splice(d,1)}}u.forEach(function(f){if(!o.hoveredStack.includes(f)){var g={target:f,x:r,y:a};St(f,"onmouseenter",g),o.hoveredStack.push(f)}})}else this.setCursor("default"),this.hoveredStack.toReversed().forEach(function(f){var g={target:f,x:r,y:a};St(f,"onmouseleave",g)}),this.hoveredStack=[]}},{key:"setHoveredElementCursor",value:function(r){for(var a=r;a&&!a.data.cursor;){var o=a.parent;if(Ft(o))break;a=o}var s=a.data.cursor||"auto";this.setCursor(s)}},{key:"setCursor",value:function(r){this.canvasElement.style.setProperty("cursor",r)}},{key:"renderDirtyRectUi",value:function(r){var a=this;this.dirtyRectUi||(this.dirtyRectUi=new Yn(m()(m()({},r),{},{fillStyle:(0,Zt.default)("red",.2),strokeStyle:"red",opacity:0,pointerEvents:"none"})),this.append(this.dirtyRectUi)),clearTimeout(this.timer),this.dirtyRectUi.attr(r),this.dirtyRectUi.animateCartoon({opacity:1},{duration:300}),this.timer=setTimeout(function(){a.dirtyRectUi.animateCartoon({opacity:0},{duration:300})},800)}}]),t}(Ce),le=function(n){var t=(0,y.useRef)([]),e=[].concat(n).filter(Boolean).filter(function(a){return typeof a.type!="function"&&typeof a.type!="string"}),r=e.map(function(a){return(0,y.cloneElement)(a,{ref:function(s){t.current.push(s)}})});return[r,t.current]};function _a(i,n,t){var e={},r=["animation"];Object.keys(i).forEach(function(a){n.data[a]!==i[a]&&!a.startsWith("on")&&!r.includes(a)&&(e[a]=i[a])}),useLayoutEffect(function(){Object.keys(e).length&&((t==null?void 0:t.duration)>16.7?n.animateCartoon(e,_objectSpread({},t)).then(function(){var a;(a=t.animationEnd)===null||a===void 0||a.call(t)}):n.attr(e))})}var l=function(n,t,e){(0,y.useLayoutEffect)(function(){var r;((r=n.animation)===null||r===void 0?void 0:r.duration)>16.7?e.animateCartoon(v()({},t,n[t]),m()({},n.animation)).then(function(){var a,o;(a=(o=n.animation).animationEnd)===null||a===void 0||a.call(o)}):n[t]!==void 0&&e.attr(v()({},t,n[t]))},[n[t]])},vt=function(n,t){(0,y.useLayoutEffect)(function(){for(var e in n)e.startsWith("on")&&(t[e]=n[e])})},K=C(85893),qn={width:600,height:400,background:"#fff",margin:"0 auto"},ct=(0,y.createContext)(null),Qn=function(n){var t=m()(m()({},qn),n),e=(0,y.useRef)(null),r=(0,y.useRef)(new Fe),a=le(n.children),o=O()(a,2),s=o[0],c=o[1];return(0,y.useLayoutEffect)(function(){r.current.mount({container:e.current},!0)},[]),(0,K.jsxs)(ct.Provider,{value:r.current,children:[(0,K.jsx)("div",{ref:e,style:t}),s]})},Kn=(0,y.forwardRef)(function(i,n){var t=(0,y.useRef)(new Pt(i));(0,y.useImperativeHandle)(n,function(){return t.current});var e=le(i.children),r=O()(e,2),a=r[0],o=r[1];vt(i,t.current);var s=(0,y.useContext)(ct);return l(i,"name",t.current),l(i,"opacity",t.current),l(i,"zIndex",t.current),l(i,"draggable",t.current),l(i,"cursor",t.current),l(i,"pointerEvents",t.current),l(i,"transform",t.current),l(i,"onclick",t.current),l(i,"onmouseenter",t.current),l(i,"onmousemove",t.current),l(i,"onmouseleave",t.current),l(i,"onmousedown",t.current),l(i,"onmouseup",t.current),l(i,"ondragstart",t.current),l(i,"ondrag",t.current),l(i,"ondragend",t.current),(0,y.useLayoutEffect)(function(){return s.append(t.current),function(){t.current.remove()}},[]),(0,K.jsx)(ct.Provider,{value:t.current,children:a})}),tr={x:10,y:10,width:100,height:100,strokeStyle:"black"},er=(0,y.forwardRef)(function(i,n){var t=m()(m()({},tr),i),e=(0,y.useRef)(new ue(t));(0,y.useImperativeHandle)(n,function(){return e.current});var r=le(t.children),a=O()(r,2),o=a[0],s=a[1];(0,y.useLayoutEffect)(function(){e.current.append(s)},[]),l(t,"width",e.current),l(t,"height",e.current),l(t,"name",e.current),l(t,"x",e.current),l(t,"y",e.current),l(t,"shadowColor",e.current),l(t,"shadowBlur",e.current),l(t,"shadowOffsetX",e.current),l(t,"shadowOffsetY",e.current),l(t,"lineWidth",e.current),l(t,"opacity",e.current),l(t,"zIndex",e.current),l(t,"fillStyle",e.current),l(t,"strokeStyle",e.current),l(t,"lineCap",e.current),l(t,"lineJoin",e.current),l(t,"lineDash",e.current),l(t,"draggable",e.current),l(t,"cursor",e.current),l(t,"pointerEvents",e.current),l(t,"transform",e.current),l(t,"onclick",e.current),l(t,"onmouseenter",e.current),l(t,"onmousemove",e.current),l(t,"onmouseleave",e.current),l(t,"onmousedown",e.current),l(t,"onmouseup",e.current),l(t,"ondragstart",e.current),l(t,"ondrag",e.current),l(t,"ondragend",e.current),vt(t,e.current),vt(i,e.current);var c=(0,y.useContext)(ct);return(0,y.useLayoutEffect)(function(){return c.append(e.current),function(){e.current.remove()}},[]),(0,K.jsx)(K.Fragment,{children:o})}),nr={x:0,y:0,width:100,height:100,fillStyle:"black"},rr=(0,y.forwardRef)(function(i,n){var t=m()(m()({},nr),i),e=(0,y.useRef)(new it(t));(0,y.useImperativeHandle)(n,function(){return e.current}),l(t,"width",e.current),l(t,"height",e.current),l(t,"cornerRadius",e.current),l(t,"name",e.current),l(t,"x",e.current),l(t,"y",e.current),l(t,"shadowColor",e.current),l(t,"shadowBlur",e.current),l(t,"shadowOffsetX",e.current),l(t,"shadowOffsetY",e.current),l(t,"lineWidth",e.current),l(t,"opacity",e.current),l(t,"zIndex",e.current),l(t,"fillStyle",e.current),l(t,"strokeStyle",e.current),l(t,"lineCap",e.current),l(t,"lineJoin",e.current),l(t,"lineDash",e.current),l(t,"draggable",e.current),l(t,"cursor",e.current),l(t,"pointerEvents",e.current),l(t,"transform",e.current),l(t,"onclick",e.current),l(t,"onmouseenter",e.current),l(t,"onmousemove",e.current),l(t,"onmouseleave",e.current),l(t,"onmousedown",e.current),l(t,"onmouseup",e.current),l(t,"ondragstart",e.current),l(t,"ondrag",e.current),l(t,"ondragend",e.current),vt(t,e.current);var r=(0,y.useContext)(ct);return(0,y.useLayoutEffect)(function(){return r.append(e.current),function(){e.current.remove()}},[]),null}),ar={x:10,y:10,radius:8,fillStyle:"black"},de=(0,y.forwardRef)(function(i,n){var t=m()(m()({},ar),i),e=(0,y.useRef)(new lt(t));(0,y.useImperativeHandle)(n,function(){return e.current}),vt(i,e.current);var r=(0,y.useContext)(ct);return l(t,"radius",e.current),l(t,"innerRadius",e.current),l(t,"startAngle",e.current),l(t,"endAngle",e.current),l(t,"offsetAngle",e.current),l(t,"name",e.current),l(t,"x",e.current),l(t,"y",e.current),l(t,"shadowColor",e.current),l(t,"shadowBlur",e.current),l(t,"shadowOffsetX",e.current),l(t,"shadowOffsetY",e.current),l(t,"lineWidth",e.current),l(t,"opacity",e.current),l(t,"zIndex",e.current),l(t,"fillStyle",e.current),l(t,"strokeStyle",e.current),l(t,"lineCap",e.current),l(t,"lineJoin",e.current),l(t,"lineDash",e.current),l(t,"draggable",e.current),l(t,"cursor",e.current),l(t,"pointerEvents",e.current),l(t,"transform",e.current),l(t,"onclick",e.current),l(t,"onmouseenter",e.current),l(t,"onmousemove",e.current),l(t,"onmouseleave",e.current),l(t,"onmousedown",e.current),l(t,"onmouseup",e.current),l(t,"ondragstart",e.current),l(t,"ondrag",e.current),l(t,"ondragend",e.current),(0,y.useLayoutEffect)(function(){return r.append(e.current),function(){e.current.remove()}},[]),null}),ir={points:[10,10,100,100],strokeStyle:"black",start:{x:0,y:0},end:{x:100,y:100}},je=(0,y.forwardRef)(function(i,n){var t=m()(m()({},ir),i);i.start&&(t.points=[i.start.x,i.start.y,i.end.x,i.end.y]);var e=(0,y.useRef)(new G(t));(0,y.useImperativeHandle)(n,function(){return e.current}),l(t,"points",e.current),l(t,"start",e.current),l(t,"end",e.current),l(t,"closed",e.current),l(t,"smooth",e.current),l(t,"percent",e.current),l(t,"name",e.current),l(t,"shadowColor",e.current),l(t,"shadowBlur",e.current),l(t,"shadowOffsetX",e.current),l(t,"shadowOffsetY",e.current),l(t,"lineWidth",e.current),l(t,"opacity",e.current),l(t,"zIndex",e.current),l(t,"fillStyle",e.current),l(t,"strokeStyle",e.current),l(t,"lineCap",e.current),l(t,"lineJoin",e.current),l(t,"lineDash",e.current),l(t,"draggable",e.current),l(t,"cursor",e.current),l(t,"pointerEvents",e.current),l(t,"transform",e.current),l(t,"onclick",e.current),l(t,"onmouseenter",e.current),l(t,"onmousemove",e.current),l(t,"onmouseleave",e.current),l(t,"onmousedown",e.current),l(t,"onmouseup",e.current),l(t,"ondragstart",e.current),l(t,"ondrag",e.current),l(t,"ondragend",e.current),vt(t,e.current);var r=(0,y.useContext)(ct);return(0,y.useLayoutEffect)(function(){return r.append(e.current),function(){e.current.remove()}},[]),null}),or={x:0,y:0,content:"hello world",fillStyle:"black"},sr=(0,y.forwardRef)(function(i,n){var t=m()(m()({},or),i),e=(0,y.useRef)(new mt(t));(0,y.useImperativeHandle)(n,function(){return e.current}),l(t,"content",e.current),l(t,"name",e.current),l(t,"x",e.current),l(t,"y",e.current),l(t,"shadowColor",e.current),l(t,"shadowBlur",e.current),l(t,"shadowOffsetX",e.current),l(t,"shadowOffsetY",e.current),l(t,"lineWidth",e.current),l(t,"opacity",e.current),l(t,"zIndex",e.current),l(t,"fillStyle",e.current),l(t,"strokeStyle",e.current),l(t,"lineCap",e.current),l(t,"lineJoin",e.current),l(t,"lineDash",e.current),l(t,"draggable",e.current),l(t,"cursor",e.current),l(t,"pointerEvents",e.current),l(t,"transform",e.current),l(t,"onclick",e.current),l(t,"onmouseenter",e.current),l(t,"onmousemove",e.current),l(t,"onmouseleave",e.current),l(t,"onmousedown",e.current),l(t,"onmouseup",e.current),l(t,"ondragstart",e.current),l(t,"ondrag",e.current),l(t,"ondragend",e.current),vt(t,e.current);var r=(0,y.useContext)(ct);return(0,y.useLayoutEffect)(function(){return r.append(e.current),function(){e.current.remove()}},[]),null}),cr={x:0,y:0,width:100,height:100,shortLength:80,fillStyle:"black"},ur=(0,y.forwardRef)(function(i,n){var t=m()(m()({},cr),i),e=(0,y.useRef)(new ze(t));(0,y.useImperativeHandle)(n,function(){return e.current}),l(t,"width",e.current),l(t,"height",e.current),l(t,"shortLength",e.current),l(t,"name",e.current),l(t,"x",e.current),l(t,"y",e.current),l(t,"shadowColor",e.current),l(t,"shadowBlur",e.current),l(t,"shadowOffsetX",e.current),l(t,"shadowOffsetY",e.current),l(t,"lineWidth",e.current),l(t,"opacity",e.current),l(t,"zIndex",e.current),l(t,"fillStyle",e.current),l(t,"strokeStyle",e.current),l(t,"lineCap",e.current),l(t,"lineJoin",e.current),l(t,"lineDash",e.current),l(t,"draggable",e.current),l(t,"cursor",e.current),l(t,"pointerEvents",e.current),l(t,"transform",e.current),l(t,"onclick",e.current),l(t,"onmouseenter",e.current),l(t,"onmousemove",e.current),l(t,"onmouseleave",e.current),l(t,"onmousedown",e.current),l(t,"onmouseup",e.current),l(t,"ondragstart",e.current),l(t,"ondrag",e.current),l(t,"ondragend",e.current),vt(t,e.current);var r=(0,y.useContext)(ct);return(0,y.useLayoutEffect)(function(){return r.append(e.current),function(){e.current.remove()}},[]),null}),lr=(0,y.forwardRef)(function(i,n){var t=i.type,e=t===void 0?"solid":t,r=(0,y.useState)(i.start),a=O()(r,2),o=a[0],s=a[1],c=(0,y.useState)(i.end),u=O()(c,2),d=u[0],h=u[1],p=(0,y.useRef)(null),f=(0,y.useRef)(null),g=(0,y.useRef)(null);(0,y.useImperativeHandle)(n,function(){return[p.current,f.current,g.current]});var x=e==="solid"?"#4d91ff":"#fff",A=e==="solid"?"transparent":"#4d91ff";return(0,y.useLayoutEffect)(function(){return function(){p.current.remove(),f.current.remove(),g.current.remove()}},[]),(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(je,m()(m()({},i),{},{start:o,end:d,draggable:!0,ref:function(S){p.current=S}})),(0,K.jsx)(de,{x:o.x,y:o.y,radius:6,draggable:!0,fillStyle:x,strokeStyle:A,ondrag:function(S){s({x:S.x,y:S.y})},ref:function(S){f.current=S}}),(0,K.jsx)(de,{x:d.x,y:d.y,radius:6,draggable:!0,fillStyle:x,strokeStyle:A,ondrag:function(S){h({x:S.x,y:S.y})},ref:function(S){g.current=S}})]})}),dr={x:10,y:10,radius:8,fillStyle:"black",startAngle:30,endAngle:90},fr=(0,y.forwardRef)(function(i,n){var t=m()(m()({},dr),i),e=(0,y.useRef)(new lt(t));(0,y.useImperativeHandle)(n,function(){return e.current}),console.log(e),l(t,"radius",e.current),l(t,"startAngle",e.current),l(t,"endAngle",e.current),l(t,"name",e.current),l(t,"x",e.current),l(t,"y",e.current),l(t,"shadowColor",e.current),l(t,"shadowBlur",e.current),l(t,"shadowOffsetX",e.current),l(t,"shadowOffsetY",e.current),l(t,"lineWidth",e.current),l(t,"opacity",e.current),l(t,"zIndex",e.current),l(t,"fillStyle",e.current),l(t,"strokeStyle",e.current),l(t,"lineCap",e.current),l(t,"lineJoin",e.current),l(t,"lineDash",e.current),l(t,"draggable",e.current),l(t,"cursor",e.current),l(t,"pointerEvents",e.current),l(t,"transform",e.current),l(t,"onclick",e.current),l(t,"onmouseenter",e.current),l(t,"onmousemove",e.current),l(t,"onmouseleave",e.current),l(t,"onmousedown",e.current),l(t,"onmouseup",e.current),l(t,"ondragstart",e.current),l(t,"ondrag",e.current),l(t,"ondragend",e.current),vt(i,e.current);var r=(0,y.useContext)(ct);return(0,y.useLayoutEffect)(function(){return r.append(e.current),function(){e.current.remove()}},[]),null}),hr=C(19632),z=C.n(hr),Ve=function(n,t){var e=n-Math.floor(n);return e<t||e>1-t?{isNear:!0,nearValue:Math.round(n)}:{isNear:!1}};function vr(i,n,t,e,r,a){var o=(n-i)/t,s=Ve((n-i)/t,.05);if(s.isNear){var c=a[s.nearValue];return{assistY:c.start.y,realTickValue:c.text.value}}var u=Number((o*e+r).toFixed());return{assistY:i,realTickValue:u}}function Ct(i,n,t,e,r){var a=Ut(i,t,e,r);return n-a}function Ut(i,n,t,e){var r=(i-n)/t,a=r*e;return a}var Ye=function(n,t){if(n.length===0)return{perfectMax:0,perfectMin:0,perfectInterval:0,intervalCount:0,tickValues:[]};n.length===1&&(n=n.concat(0));var e=Math.max.apply(Math,z()(n)),r=t?0:Math.min.apply(Math,z()(n));return pr(e,r)};function pr(i,n){var t=xr(i-n),e=[1,2,3,4,5],r=e.map(function(S){return S*t/10}),a=4,o=6,s,c,u,d,h=oe()(r),p;try{for(h.s();!(p=h.n()).done;){var f=p.value;u=gr(i,f),d=yr(n,f);var g=(u-d)/f;if(a<=g&&g<=o){s=Math.ceil(g),c=f;break}}}catch(S){h.e(S)}finally{h.f()}var x=(u-d)/c,A=Array.from({length:x+1},function(S,M){return d+M*c}),w={perfectMax:u,perfectMin:d,perfectInterval:c,intervalCount:x,tickValues:A};return w}function yr(){for(var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:123,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100,t=[],e=0;!t.length||t.at(-1)<=i;)t.push(e*n),e++;return t.at(-2)}function gr(){for(var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:123,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100,t=0,e;e===void 0||e<=i;)e=t*n,t++;return e}var xr=function i(n){return n<=.1?n=.1:n<=.2?n=.2:n<=.25?n=.25:n<=.3?n=.3:n<=.5?n=.5:n<1?n=1:n=i(n/10)*10,n},mr=50,$e=20,Ze=40,Ue=50,fe=40,Sr=0,Ba=40,za=10,Ha=20,Gt=["#0052D9","#029CD4","#2BA471","#F5BA18","#E37318","#D54941","#E851B3","#8E56DD","#E851B3"],he=Gt[0],Wa=(0,Zt.default)(he,.8),ot="#86909C",Xt="#E5E6EB",Ge="#ED589D",Xe="#14D460",wr=function(n,t,e){var r=Ye(e,!0),a=r.perfectInterval,o=r.perfectMin,s=r.intervalCount,c=r.tickValues,u=n.center.x,d=n.center.y,h=n.canvasSize.height/2,p=h/c.length,f=-90+(t.angleAxis.startAngle||0);if(t.radiusAxis.type){var g={x:u,y:d,radius:h-p,strokeStyle:ot},x=[g],A=at(u,d,g.radius,f),w={start:{x:u,y:d},end:{x:A.x,y:A.y}},S=jt(w.end,w.start)/t.radiusAxis.data.length,M=4,E=-1/En(w.end,w.start),R=t.radiusAxis.data.map(function(j,L){var rt=L*S,gt=rt/g.radius,wt=gt*(A.x-u),kt=gt*(A.y-d),Rt=u+wt,zt=d+kt,an=Me(E,{x:Rt,y:zt}),ha=-an/E,va=0,pa=jt({x:Rt,y:zt},{x:ha,y:va}),on=zt-M/pa*zt,ya=(on-an)/E,sn=xt(String(j),14),Va=sn.textWidth,Ya=sn.textHeight,ga=S/2+L*S,cn=ga/g.radius,xa=cn*(A.x-u),ma=cn*(A.y-d),un=u+xa,ee=d+ma,ln=Me(E,{x:un,y:ee}),Sa=-ln/E,wa=0,Aa=jt({x:un,y:ee},{x:Sa,y:wa}),dn=ee-20/Aa*ee,Ca=(dn-ln)/E;return{start:{x:Rt,y:zt},end:{x:ya,y:on},text:{x:Ca,y:dn,value:j}}}),P=360/(c.length-1),I=c.slice(0,-1).map(function(j,L){var rt=f+L*P,gt=at(u,d,g.radius,rt),wt=at(u,d,g.radius+10,rt),kt=at(u,d,g.radius+20,rt);return{start:gt,end:wt,text:m()(m()({},kt),{},{value:String(j)})}}),F=I.slice(1).map(function(j){return{start:{x:u,y:d},end:j.start}}),B=S/5,tt=S-2*B,et=e.map(function(j,L){return{startAngle:f,endAngle:f+Ut(j,o,a,P),innerRadius:L===0?B:L*S+B,radius:L===0?B+tt:L*S+S-B}});return{circlesData:x,lineAxis:w,lineAxisTicks:R,radianAngles:[],outerTicks:I,ccToTickLines:F,mainChartsData:et}}var nt=c.map(function(j,L){return{x:u,y:d,radius:L*p,strokeStyle:L===c.length-1?ot:Xt}}),Y=nt.at(-1),st={start:{x:u,y:d},end:{x:u,y:d-Y.radius}},dt=(st.start.y-st.end.y)/s,pt=c.map(function(j,L){var rt=d-L*dt,gt=u-6,wt=xt(String(j),14),kt=wt.textWidth,Rt=wt.textHeight;return{start:{x:u,y:rt},end:{x:gt,y:rt},text:{x:gt-kt-2,y:rt-Rt/2,value:j}}}),J=t.angleAxis,yt=360/J.data.length,U=J.data.map(function(j,L){var rt=f+L*yt,gt=(L===J.data.length-1?360:(L+1)*yt)+f,wt=at(u,d,Y.radius,rt),kt=at(u,d,Y.radius+10,rt),Rt=at(u,d,Y.radius+15,(rt+gt)/2);return{start:wt,end:kt,text:m()(m()({},Rt),{},{value:String(j)})}}),Tt=J.data.map(function(j,L){return{startAngle:L*yt+f,endAngle:(L===J.data.length-1?360:(L+1)*yt)+f}});return{circlesData:nt,lineAxis:st,lineAxisTicks:pt,outerTicks:U,radianAngles:Tt,tickConstant:{min:o,realInterval:a,tickInterval:dt}}},Ar=function(n,t,e){var r=e.reduce(function(f,g){return f.concat(g.data)},[]),a=wr(n,t,r),o=a.circlesData.map(function(f){return new lt({x:f.x,y:f.y,radius:f.radius,fillStyle:"transparent",strokeStyle:f.strokeStyle})}),s=new G({points:Q([a.lineAxis.start,a.lineAxis.end]),strokeStyle:ot}),c=a.lineAxisTicks.map(function(f){return new G({points:[f.start.x,f.start.y,f.end.x,f.end.y],strokeStyle:ot})}),u=a.lineAxisTicks.map(function(f){return new mt({x:f.text.x,y:f.text.y,content:String(f.text.value),fillStyle:ot})}),d=a.outerTicks.map(function(f){return new G({points:Q([f.start,f.end]),strokeStyle:ot})}),h=a.outerTicks.map(function(f){return new mt({x:f.text.x,y:f.text.y,content:f.text.value,fillStyle:ot,textAlign:"center",textBaseline:"middle"})}),p=(a.ccToTickLines||[]).map(function(f){return new G({points:Q([f.start,f.end]),strokeStyle:Xt})});return{polarAllShapes:[].concat(z()(p),z()(o),[s],z()(c),z()(u),z()(d),z()(h)),polarAxisData:a}},Ne=6,Cr={width:6,height:20,cornerRadius:1},Dt=Cr.width/2,Fa="rgb(210, 219, 238)",ja="rgb(143, 176, 257)",br=function(){function i(n){if(D()(this,i),v()(this,"cr",void 0),v()(this,"elements",[]),v()(this,"start_x",0),v()(this,"end_x",0),v()(this,"rangeRatio",{startRatio:0,endRatio:100}),this.cr=n,!!Ot(this.cr.userOption)){var t=O()(this.cr.userOption.dataZoom,1),e=t[0],r=e.start,a=e.end;this.rangeRatio.startRatio=r/100,this.rangeRatio.endRatio=a/100}}return k()(i,[{key:"render",value:function(t){var e=this;if(t&&(this.rangeRatio.startRatio=t.startRatio,this.rangeRatio.endRatio=t.endRatio),!Ot(this.cr.userOption))return;var r=this.cr.coordinateSystem.cartesian2d.cartesian2dAxisData.xAxisData.axis,a=new it({x:r.start.x,y:r.start.y+50,width:r.end.x-r.start.x,height:fe-26,cornerRadius:2,fillStyle:"#fff",strokeStyle:"#B5C7FF"});this.start_x=a.data.x+a.data.width*this.rangeRatio.startRatio,this.end_x=a.data.x+a.data.width*this.rangeRatio.endRatio;var o={y:a.data.y},s={y:o.y+a.data.height},c=function(){return e.end_x-e.start_x},u=function(){return{points:[e.start_x,o.y,e.start_x,s.y]}},d=function(){return{points:[e.end_x,o.y,e.end_x,s.y]}},h=new Pt({}),p=function(){return{x:e.start_x,y:o.y,width:c(),height:a.data.height}},f=new it(m()(m()({},p()),{},{fillStyle:"rgb(135,175,255)",strokeStyle:"#B5C7FF",opacity:.2})),g=function(){return{x:e.start_x,y:o.y-Ne,width:e.end_x-e.start_x,height:Ne}},x=new ue(m()(m()({},g()),{},{fillStyle:"rgb(210,219,238)",opacity:.7,cursor:"w-resize",draggable:"horizontal"}));ve(x,a.data.x,function(){return a.data.x+a.data.width-c()},function(){var U=x.data.x;e.start_x=U,e.end_x=U+x.data.width,pt(),e.onRange(A())});var A=function(){var Tt=(x.data.x-a.data.x)/a.data.width,j=(x.data.x+x.data.width-a.data.x)/a.data.width,L={startRatio:Math.min(Tt,j),endRatio:Math.max(Tt,j)};return e.rangeRatio=L,L},w=function(){return{x:e.start_x,y:o.y+a.data.height/2}},S=a.data.height/2+2,M=new lt(m()(m()({},w()),{},{radius:S,lineWidth:2,fillStyle:"#fff",strokeStyle:"#0052D9",cursor:"w-resize",draggable:"horizontal"}));ve(M,a.data.x-Dt,a.data.x+a.data.width-Dt,function(){e.start_x=M.data.x+Dt,pt(),e.onRange(A())});var E=function(){return{x:e.end_x,y:o.y+a.data.height/2}},R=new lt(m()(m()({},E()),{},{radius:S,fillStyle:"#fff",strokeStyle:"#0052D9",lineWidth:2,cursor:"w-resize",draggable:"horizontal"}));ve(R,a.data.x-Dt,a.data.x+a.data.width-Dt,function(){e.end_x=R.data.x+Dt,pt(),e.onRange(A())});var P=1.2,I=x.data.height-2,F=x.data.y+x.data.height/2-I/2,B={y:F,width:P,height:I,fillStyle:"#fff"},tt=function(){return{x:e.start_x+x.data.width/2}};function et(){return{x:Y.data.x-P-2}}function nt(){return{x:Y.data.x+P+2}}var Y=new it(m()(m()({},tt()),B)),st=new it(m()(m()({},et()),B)),dt=new it(m()(m()({},nt()),B));x.append(Y,st,dt),h.append(f,x,M,R);var pt=function(){x.attr(g()),f.attr(p()),M.attr(w()),R.attr(E()),Y.attr(tt()),st.attr(et()),dt.attr(nt())},J=function(){},yt=function(){};return x.onmouseenter=J,x.onmouseleave=yt,M.onmouseenter=J,M.onmouseleave=yt,R.onmouseenter=J,R.onmouseleave=yt,this.elements.push(a,h),this.elements}},{key:"onRange",value:function(t){}}]),i}(),Ot=function(n){return!!(n!=null&&n.dataZoom)};function kr(i,n){return i<n.min&&(i=n.min),i>n.max&&(i=n.max),i}function ve(i,n,t,e){var r;i.ondragstart=function(a){r=a.x-i.data.x},i.ondrag=function(a){var o=kr(a.x-r,{min:n,max:typeof t=="function"?t():t});i.attr({x:o}),e(a)}}function Rr(i,n,t){var e=Ue,r=t-Ze-(Ot(i)?fe:0),a=n-$e,o=i.xAxis,s=o.data,c=o.boundaryGap,u=c===void 0?!0:c,d=u?s.length:s.length-1,h=(a-e)/d,p=u?h/2:0,f={start:{x:e,y:r},end:{x:a,y:r},xAxisInterval:h},g=s.map(function(x,A){var w=xt(x,14),S=w.textWidth,M=w.textHeight,E=10,R=p+e+A*h,P=r,I=r+E;return{start:{x:R,y:P},end:{x:R,y:I},text:{x:R,y:I+5,textWidth:S,value:x}}});return{axis:f,ticks:g}}function Er(i,n){var t=Rr(n,i.canvasElement.offsetWidth,i.canvasElement.offsetHeight),e=new G({points:[t.axis.start.x,t.axis.start.y,t.axis.end.x,t.axis.end.y],strokeStyle:ot}),r=0,a=[];return t.ticks.forEach(function(o){if(!(o.text.x<r+10)){r=o.text.x+o.text.textWidth;var s=new Pt,c=new G({points:Q([o.start,o.end]),strokeStyle:ot}),u=new mt({x:o.text.x,y:o.text.y,content:o.text.value,fillStyle:ot,textAlign:"center",cursor:"pointer"});s.append([c,u]),a.push(s)}}),{xAxisLine:e,ticks:a,xAxisData:t}}function Dr(i,n,t,e){var r=Ue,a=t-Ze-(Ot(e)?fe:0),o=mr,s=n-$e,c=a-o,u={start:{x:r,y:a},end:{x:r,y:o}},d=Ye(i),h=d.perfectInterval,p=d.perfectMin,f=d.intervalCount,g=d.tickValues,x=(c-Sr)/f,A=g.map(function(w,S){var M=r,E=s,R=a-Ut(w,p,h,x),P=xt(String(w),14),I=P.textWidth,F=P.textHeight;return{start:{x:M,y:R},end:{x:E,y:R},text:{x:M-I-5,y:R-F/2,value:w}}});return{axis:u,ticks:A,tickConstant:{min:p,realInterval:h,tickInterval:x}}}function Mr(i,n,t){var e=n.reduce(function(c,u){return c.concat(u.data.flat())},[]),r=Dr(e,i.canvasElement.offsetWidth,i.canvasElement.offsetHeight,t),a=new G({points:Q([r.axis.start,r.axis.end]),strokeStyle:Xt}),o=r.ticks.map(function(c,u){return new G({points:[c.start.x,c.start.y,c.end.x,c.end.y],strokeStyle:u===0?"transparent":Xt,lineDash:[4]})}),s=r.ticks.map(function(c){return new mt({x:c.text.x,y:c.text.y,content:String(c.text.value),fillStyle:ot})});return{yAxisLine:a,ticksLines:o,tickTexts:s,yAxisData:r}}var Tr=function(n,t,e){var r=Er(n,t),a=Mr(n,e,t);return{cartesian2dAllShapes:[r.xAxisLine].concat(z()(r.ticks),z()(a.ticksLines),z()(a.tickTexts)),cartesian2dAxisData:{xAxisData:r.xAxisData,yAxisData:a.yAxisData}}},Ir=function(n,t,e){var r=e.some(function(c){return c.coordinateSystem==="cartesian2d"}),a={};r&&(a=Tr(n,t,e));var o=e.some(function(c){return c.coordinateSystem==="polar"}),s={};return o&&(s=Ar(n,t,e)),{hasCartesian2d:r,cartesian2d:a,hasPolar:o,polar:s}},Pr={orient:"horizontal",left:"center"},Lr=function(){function i(n){D()(this,i),v()(this,"cr",void 0),v()(this,"elements",void 0),this.cr=n}return k()(i,[{key:"render",value:function(t){var e=this,r=this.cr,a=r.stage,o=m()(m()({},Pr),r.userOption.legend),s=14,c=30,u=16,d=4,h=10,p=5,f=10,g=10,x=t.reduce(function(E,R){return E+c+p+xt(R.label,s).textWidth},0)+h*(t.length-1),A=a.canvasSize.width/2-x/2,w=[],S=o.orient==="vertical",M=A;t.forEach(function(E,R){var P=g+(u+h)*R,I=xt(E.label,s),F=I.textWidth,B=c+h+F,tt=S?f:M;M=tt+B;var et=new it({x:tt,y:S?P:g,width:c,height:u,fillStyle:E.color,cursor:"pointer",cornerRadius:d}),nt=new mt({x:S?f+c+p:tt+c+p,y:S?P+u/2:g+u/2+1,content:E.label,fillStyle:E.color,fontSize:s,cursor:"pointer",textBaseline:"middle"}),Y=new Pt({name:"legend-Group - "+R});Y.append([et,nt]),Y.onmouseenter=function(){e.onSelect(E,R)},Y.onmouseleave=function(){e.onCancelSelect(E,R)},w.push(Y)}),this.elements=w}},{key:"onSelect",value:function(t,e){}},{key:"onCancelSelect",value:function(t,e){}}]),i}();const Je=-1,Nt=0,Jt=1,qt=2,pe=3,ye=4,ge=5,xe=6,qe=7,Qe=8,Ke=typeof self=="object"?self:globalThis,Or=(i,n)=>{const t=(r,a)=>(i.set(a,r),r),e=r=>{if(i.has(r))return i.get(r);const[a,o]=n[r];switch(a){case Nt:case Je:return t(o,r);case Jt:{const s=t([],r);for(const c of o)s.push(e(c));return s}case qt:{const s=t({},r);for(const[c,u]of o)s[e(c)]=e(u);return s}case pe:return t(new Date(o),r);case ye:{const{source:s,flags:c}=o;return t(new RegExp(s,c),r)}case ge:{const s=t(new Map,r);for(const[c,u]of o)s.set(e(c),e(u));return s}case xe:{const s=t(new Set,r);for(const c of o)s.add(e(c));return s}case qe:{const{name:s,message:c}=o;return t(new Ke[s](c),r)}case Qe:return t(BigInt(o),r);case"BigInt":return t(Object(BigInt(o)),r)}return t(new Ke[a](o),r)};return e},tn=i=>Or(new Map,i)(0),Mt="",{toString:_r}={},{keys:Br}=Object,_t=i=>{const n=typeof i;if(n!=="object"||!i)return[Nt,n];const t=_r.call(i).slice(8,-1);switch(t){case"Array":return[Jt,Mt];case"Object":return[qt,Mt];case"Date":return[pe,Mt];case"RegExp":return[ye,Mt];case"Map":return[ge,Mt];case"Set":return[xe,Mt]}return t.includes("Array")?[Jt,t]:t.includes("Error")?[qe,t]:[qt,t]},Qt=([i,n])=>i===Nt&&(n==="function"||n==="symbol"),zr=(i,n,t,e)=>{const r=(o,s)=>{const c=e.push(o)-1;return t.set(s,c),c},a=o=>{if(t.has(o))return t.get(o);let[s,c]=_t(o);switch(s){case Nt:{let d=o;switch(c){case"bigint":s=Qe,d=o.toString();break;case"function":case"symbol":if(i)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return r([Je],o)}return r([s,d],o)}case Jt:{if(c)return r([c,[...o]],o);const d=[],h=r([s,d],o);for(const p of o)d.push(a(p));return h}case qt:{if(c)switch(c){case"BigInt":return r([c,o.toString()],o);case"Boolean":case"Number":case"String":return r([c,o.valueOf()],o)}if(n&&"toJSON"in o)return a(o.toJSON());const d=[],h=r([s,d],o);for(const p of Br(o))(i||!Qt(_t(o[p])))&&d.push([a(p),a(o[p])]);return h}case pe:return r([s,o.toISOString()],o);case ye:{const{source:d,flags:h}=o;return r([s,{source:d,flags:h}],o)}case ge:{const d=[],h=r([s,d],o);for(const[p,f]of o)(i||!(Qt(_t(p))||Qt(_t(f))))&&d.push([a(p),a(f)]);return h}case xe:{const d=[],h=r([s,d],o);for(const p of o)(i||!Qt(_t(p)))&&d.push(a(p));return h}}const{message:u}=o;return r([s,{name:c,message:u}],o)};return a},en=(i,{json:n,lossy:t}={})=>{const e=[];return zr(!(n||t),!!n,new Map,e)(i),e};var Hr=typeof structuredClone=="function"?(i,n)=>n&&("json"in n||"lossy"in n)?tn(en(i,n)):structuredClone(i):(i,n)=>tn(en(i,n)),Wr=function(n){return Hr(n)};function Fr(i,n,t,e,r,a){var o=i>=t&&i<=e&&n>=r&&n<=a;return o}var jr=function(){function i(n){D()(this,i),v()(this,"cr",void 0),v()(this,"horizontal",void 0),v()(this,"vertical",void 0),v()(this,"tickRect",void 0),v()(this,"tickText",void 0),v()(this,"elements",[]),v()(this,"activeIndex",void 0),v()(this,"ani",new we(0,0)),this.cr=n}return k()(i,[{key:"setVisible",value:function(t){var e=t?1:0;this.horizontal.attr({opacity:e}),this.vertical.attr({opacity:e}),this.tickRect.attr({opacity:e}),this.tickText.attr({opacity:e})}},{key:"render",value:function(){var t=this.cr,e=t.stage,r={zIndex:8,pointerEvents:"none",lineDash:[4]};this.horizontal=new G(m()({points:[0,0,0,0],strokeStyle:"#bbb"},r)),this.vertical=new G(m()({points:[0,0,0,e.canvasSize.height],strokeStyle:"#bbb"},r)),this.tickRect=new it({x:0,y:0,width:50,height:22,fillStyle:"#eee",cornerRadius:4,zIndex:8}),this.tickText=new mt({x:0,y:0,fillStyle:"#444",content:"",zIndex:10,textAlign:"center"}),this.setVisible(!1),this.elements=[this.horizontal,this.vertical,this.tickRect,this.tickText]}},{key:"onCartesian2dRectMousemove",value:function(t){var e=this,r=this.cr,a=r.stage,o=t.x,s=t.y,c=r.coordinateSystem.cartesian2d.cartesian2dAxisData,u=c.yAxisData,d=c.xAxisData,h=d.axis.start.x,p=d.axis.end.x,f=u.axis.start.y,g=u.axis.end.y,x=vr(s,f,u.tickConstant.tickInterval,u.tickConstant.realInterval,u.tickConstant.min,u.ticks),A=x.assistY,w=x.realTickValue,S=0,M=d.ticks;if(o<M.at(0).start.x)S=0;else if(o>M.at(-1).start.x)S=M.length-1;else{var E=(o-M.at(0).start.x)/d.axis.xAxisInterval,R=Ve(E,.5);R.isNear&&(S=R.nearValue)}if(this.activeIndex!==S){this.activeIndex=S;var P=M[this.activeIndex].start.x;this.ani.setAheadEnd(),this.ani=new we(this.ani.centerValue,P,{duration:150}),this.ani.onUpdate=function(B){e.vertical.attr({points:[B,0,B,a.canvasSize.height]})},this.ani.setEndValue(P),this.onActiveIndexChange(this.activeIndex)}this.horizontal.attr({points:[0,A,a.canvasSize.width,A]});var I=this.tickRect.data,F={x:h-I.width,y:A-I.height/2};this.tickRect.attr({x:F.x,y:F.y}),this.tickText.attr({x:F.x+I.width/2,y:F.y+5,content:String(w)})}},{key:"onCartesian2dRectMouseenter",value:function(t){this.setVisible(!0)}},{key:"onCartesian2dRectMouseleave",value:function(t){this.setVisible(!1)}},{key:"onActiveIndexChange",value:function(t){}}]),i}(),Z={row:"display: flex; align-items: center; gap: 8px;",tagSign:function(n){return"width: 18px; height: 18px; border-radius: 50%; flex-shrink: 0; background-color: ".concat(n,";")},opening:"margin-left: 10px",value:"margin-left: auto; "},Bt=function i(n,t){return{position:"absolute",left:0,top:0,backgroundColor:"#fff",transform:"translate(".concat(n,"px, ").concat(t,"px)"),boxShadow:"rgba(0, 0, 0, 0.2) 1px 2px 10px",padding:"10px",width:i.width+"px",pointerEvents:"none",transition:"transform 100ms",borderRadius:"8px",flexDirection:"column",gap:"10px"}};Bt.width=200,Bt.title=JSON.stringify("font-size: 16px;");var Vr=function(){function i(n){var t=this;D()(this,i),v()(this,"cr",void 0),v()(this,"isShow",!1),v()(this,"tooltipContainer",void 0),this.cr=n,this.cr.assistLine?this.cr.assistLine.onActiveIndexChange=function(e){var r=n.coordinateSystem.cartesian2d.cartesian2dAxisData.xAxisData.ticks[e],a=n.seriesManager.getAxisTooltipContent(e),o="<div style=".concat(Bt.title,">").concat(r.text.value,"</div>");t.tooltipContainer.innerHTML=o+a}:this.cr.stage.on("mousemove",function(e){t.isShow})}return k()(i,[{key:"onCartesian2dRectMousemove",value:function(t){var e=8,r=t.x+e,a=t.y+e,o=this.cr.stage.canvasSize,s=o.width-this.tooltipContainer.offsetWidth,c=o.height-this.tooltipContainer.offsetHeight;r>s&&(r=r-Bt.width-e*2),a>c&&(a=a-this.tooltipContainer.offsetHeight-e*2);var u=Bt(r,a);for(var d in u)this.tooltipContainer.style[d]=u[d]}},{key:"initContainer",value:function(){if(!this.tooltipContainer){var t=document.createElement("div");t.setAttribute("tooltip",""),this.tooltipContainer=t,this.cr.wrapperContainer.appendChild(t)}}},{key:"onCartesian2dRectMouseenter",value:function(t){this.initContainer(),this.show()}},{key:"onCartesian2dRectMouseleave",value:function(t){this.hide()}},{key:"hide",value:function(){this.tooltipContainer.style.display="none"}},{key:"show",value:function(){this.tooltipContainer.style.display="flex"}},{key:"externalShow",value:function(t,e){this.initContainer(),this.show()}}]),i}(),Yr=function(){function i(n){D()(this,i),v()(this,"cr",void 0),v()(this,"seriesItem",void 0),this.cr=n}return k()(i,[{key:"render",value:function(t,e){}},{key:"afterAppendStage",value:function(){}}]),i}(),Kt=Yr;function nn(i,n,t){var e=t.tickConstant,r=e.min,a=e.realInterval,o=e.tickInterval,s=t.axis.start.y;return i.map(function(c,u){var d=n.ticks[u].start.x,h=Ct(c,s,r,a,o);return{x:d,y:h}})}var $r={animationDuration:1e3,lineStyle:{width:2,cap:"butt",join:"bevel"},symbol:"circle",symbolSize:3},bt=200,Zr=function(i){N()(t,i);var n=X()(t);function t(){var e;D()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=n.call.apply(n,[this].concat(a)),v()(T()(e),"lineElements",void 0),v()(T()(e),"color",void 0),v()(T()(e),"opacity",1),e}return k()(t,[{key:"render",value:function(r,a){var o=this;this.seriesItem=m()(m()({},$r),r),this.color=Gt[a];var s=this.cr,c=s.coordinateSystem,u=s.stage,d=this.cr.finalSeries,h=c.cartesian2d.cartesian2dAxisData.xAxisData,p=c.cartesian2d.cartesian2dAxisData.yAxisData,f=nn(r.data,h,p),g=this.seriesItem,x=g.areaStyle,A=g.smooth,w=g.step,S=g.lineStyle,M=g.symbol,E=A?f:Ur(f,w),R=Q(E),P=new G({name:"mainline",points:R,strokeStyle:this.color,lineWidth:S.width,lineCap:S.cap,lineJoin:S.join,smooth:A,opacity:this.opacity}),I=new ue({x:h.ticks[0].start.x-S.width,y:p.axis.end.y,width:0,height:u.canvasSize.height,lineWidth:0});if(x){var F=function(){var et=d[a-1],nt=a===0?[{x:E.at(0).x,y:h.axis.start.y},{x:E.at(-1).x,y:h.axis.end.y}]:nn(et.data,h,p),Y=function(){if(Array.isArray(x.color)){var U=Math.max.apply(Math,z()(f.map(function(L){return L.y}))),Tt=Math.min.apply(Math,z()(nt.map(function(L){return L.y}))),j=u.ctx.createLinearGradient(0,0,U,Tt);return x.color.forEach(function(L){j.addColorStop(L.offset,x.opacity?(0,Zt.default)(L.color,x.opacity):L.color)}),j}return x.color||(0,Zt.default)(o.color,.6)},st=Q(nt.reverse()),dt=new Path2D(P.path2D);dt.lineTo(st[0],st[1]);var pt=new G({points:st,smooth:a===0?!1:et.smooth,lineWidth:0}).path2D;pt.lineTo(R[0],R[1]),pt.addPath(dt);var J=new G({name:"innerSingleArea",path2D:pt,fillStyle:Y(),strokeStyle:"transparent",closed:!0,lineWidth:0,cursor:"pointer",opacity:o.opacity});return J.onmouseenter=function(){J.animateCartoon({opacity:.9},{duration:200})},J.onmouseleave=function(){J.animateCartoon({opacity:1},{duration:200})},J};I.append(F())}I.append(P);var B=[];M!=="none"&&(B=this.createSymbol(f)),this.lineElements={mainPolyline:I,arcs:B}}},{key:"createSymbol",value:function(r){var a=this,o=0,s=r.map(function(c){var u=new lt({x:c.x,y:c.y,radius:o,fillStyle:"white",strokeStyle:a.color,lineWidth:4,cursor:"pointer",opacity:a.opacity,zIndex:3});return u.onmouseenter=function(){a.arcActive(u)},u.onmouseleave=function(){a.arcCancelActive(u)},u});return s}},{key:"afterAppendStage",value:function(){var r=this,a=this.cr,o=a.stage,s=a.coordinateSystem,c=s.cartesian2d.cartesian2dAxisData.xAxisData,u=c.ticks.map(function(h){return h.start.x}),d=0;this.lineElements.mainPolyline.animateCartoon({width:o.canvasSize.width},{duration:this.seriesItem.animationDuration,easing:"quadraticInOut",during:function(p,f){if(r.seriesItem.symbol!=="none"&&c.axis.start.x+f.width>=u[d]){var g;(g=r.lineElements.arcs[d])===null||g===void 0||g.animateCartoon({radius:r.seriesItem.symbolSize},{duration:300}),d++}}})}},{key:"arcActive",value:function(r){r.animateCartoon({radius:this.seriesItem.symbolSize+4},{duration:bt})}},{key:"arcCancelActive",value:function(r){r.animateCartoon({radius:this.seriesItem.symbolSize},{duration:bt})}},{key:"select",value:function(){var r=this;this.lineElements.arcs.forEach(function(a){a.animateCartoon({opacity:1},{duration:bt}),r.arcActive(a)})}},{key:"cancelSelect",value:function(){this.lineElements.mainPolyline.children.forEach(function(r){r.animateCartoon({opacity:.1},{duration:bt})}),this.lineElements.arcs.forEach(function(r){r.animateCartoon({opacity:.1},{duration:bt})})}},{key:"resetNormal",value:function(){var r=this;this.lineElements.mainPolyline.children.forEach(function(a){a.animateCartoon({opacity:1},{duration:bt})}),this.lineElements.arcs.forEach(function(a){a.animateCartoon({opacity:1},{duration:bt}),r.arcCancelActive(a)})}},{key:"getTooltipContent",value:function(r){return`
    <div style="`.concat(Z.row,`">
      <div style="`).concat(Z.tagSign(this.color),`"></div> 
      <div>`).concat(this.seriesItem.name||"",`</div>
      <div style="`).concat(Z.value,'">').concat(this.seriesItem.data[r],`</div>
    </div>`)}}]),t}(Kt);function Ur(i,n){if(!n)return i;var t=i.reduce(function(e,r,a,o){if(a===o.length-1)return e.concat(r);var s=[],c=o[a+1];if(n==="start"&&s.push({x:r.x,y:c.y}),n==="end"&&s.push({x:c.x,y:r.y}),n==="middle"){var u=(r.x+c.x)/2;s.push({x:u,y:r.y}),s.push({x:u,y:c.y})}return e.concat(r,s)},[]);return t}function rn(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:360,t=i.reduce(function(a,o){return a+o.value},0),e=i.map(function(a){return a.value/t*n}),r=[];return e.forEach(function(a,o){var s=r[r.length-1],c=o===0?0:s.endAngle,u=o===0?a:s.endAngle+a,d={startAngle:c,endAngle:u,color:Gt[o],label:i[o].name};r.push(d)}),r}var Gr=function(i){N()(t,i);var n=X()(t);function t(){var e;D()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=n.call.apply(n,[this].concat(a)),v()(T()(e),"pieElements",void 0),v()(T()(e),"labelElements",void 0),v()(T()(e),"data",void 0),v()(T()(e),"hoverIndex",void 0),v()(T()(e),"hoverRadius",void 0),v()(T()(e),"outerRadius",void 0),v()(T()(e),"fakeArc",void 0),v()(T()(e),"center",void 0),v()(T()(e),"onSelected",function(s){}),v()(T()(e),"onCancelSelect",function(s){}),e}return k()(t,[{key:"render",value:function(r){var a=this;r=m()({animationDuration:500},r),this.seriesItem=r;var o=rn(r.data);this.data=o;var s=this.cr.stage,c=s.canvasSize,u=s.center,d=Math.min(c.width,c.height),h="70%",p=parseInt(h)/100,f=r.radius||[],g=O()(f,2),x=g[0],A=g[1],w=d/2*p;this.outerRadius=w,this.hoverRadius=w+6,this.center=u,this.fakeArc=new lt({x:u.x,y:u.y,radius:w,startAngle:0,endAngle:0,fillStyle:"transparent"}),this.pieElements=o.map(function(S,M){var E=new lt({name:"main-pie",x:u.x,y:u.y,radius:w,innerRadius:x?w*.5:void 0,startAngle:0,endAngle:0,fillStyle:S.color,cursor:"pointer",shadowColor:"rgba(0, 0, 0, 0.5)",shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0});return E.onmouseenter=function(){a.select(void 0,M),a.onSelected(M)},E.onmouseleave=function(){a.cancelSelect(void 0,M),a.onCancelSelect(M)},E}),this.labelElements=o.map(function(S,M){return a.createLabel(S,M)})}},{key:"createLabel",value:function(r,a){var o,s=this,c=at(this.center.x,this.center.y,this.outerRadius,(r.startAngle+r.endAngle)/2),u=15,d=(se(r.startAngle)+se(r.endAngle))/2,h=this.center,p=this.outerRadius,f=(p+u)*Math.cos(d)+h.x,g=(p+u)*Math.sin(d)+h.y,x=f>h.x,A=x?f+u:f-u,w=g,S=x?f+u:f-u,M=[{x:c.x,y:c.y},{x:f,y:g},{x:A,y:w}],E=new G({name:"extend-line",points:Q(M),strokeStyle:r.color,lineWidth:((o=this.seriesItem.labelLine)===null||o===void 0||(o=o.lineStyle)===null||o===void 0?void 0:o.width)||2,cursor:"pointer",percent:0}),R=xt(r.label,14),P=R.textWidth,I=R.textHeight,F=new mt({name:"label-text",x:x?S+5:S-5,y:g-I/2,content:r.label,fillStyle:ot,textAlign:x?"left":"right",cursor:"pointer",opacity:0}),B=new Pt;return B.onmouseenter=function(){s.select(void 0,a)},B.onmouseleave=function(){s.cancelSelect(void 0,a)},B.append([E,F]),B}},{key:"afterAppendStage",value:function(){var r=this,a=new Ae({value:0},{value:360},{duration:this.seriesItem.animationDuration,easing:"quadraticInOut"});a.start(),a.onUpdate=function(o,s){var c=o.value,u=rn(r.seriesItem.data,c);r.pieElements.forEach(function(d,h){var p=u[h];d.attr({startAngle:p.startAngle,endAngle:p.endAngle})})},this.labelElements.forEach(function(o){var s=o.children,c=O()(s,2),u=c[0],d=c[1];u.animateCartoon({percent:1},{duration:r.seriesItem.animationDuration,easing:"quadraticInOut"}),d.animateCartoon({opacity:1},{duration:r.seriesItem.animationDuration,easing:"quadraticInOut"})})}},{key:"select",value:function(r,a){var o=a!=null?a:this.seriesItem.data.findIndex(function(c){return c.name===r.label}),s=this.pieElements[o];s.pinTop(),s.animateCartoon({radius:this.hoverRadius,shadowBlur:15},{duration:200})}},{key:"cancelSelect",value:function(r,a){var o=a!=null?a:this.seriesItem.data.findIndex(function(s){return s.name===r.label});this.pieElements[o].animateCartoon({radius:this.outerRadius,shadowBlur:0},{duration:200})}},{key:"getTooltipContent",value:function(){return""}}]),t}(Kt),Xr=Gr;function Nr(i,n,t,e){var r=t.tickConstant,a=r.min,o=r.realInterval,s=r.tickInterval,c=n.axis,u=n.ticks,d=t.axis.start.y,h=i.map(function(p,f){var g=c.xAxisInterval/2,x=u[f].start.x-g/2,A=Ct(p,d,a,o,s),w;return e===null?w=c.start.y-A:w=Ct(e[f],d,a,o,s)-A,{x,y:A,width:g,height:w}});return h}function Jr(i,n,t){var e=t.polarAxisData;if(e.mainChartsData){var r=e.mainChartsData.map(function(c){var u=new lt({x:i.x,y:i.y,startAngle:c.startAngle,endAngle:c.startAngle,innerRadius:c.innerRadius,radius:c.radius,fillStyle:he,cursor:"pointer",extraData:{endAngle:c.endAngle}});return u}),a=function(){r.forEach(function(u){u.animateCartoon({endAngle:u.data.extraData.endAngle},{duration:500,easing:"quadraticInOut"})})};return{elements:r,afterAppendStage:a}}var o=e.radianAngles.map(function(c,u){var d=e.tickConstant,h=d.min,p=d.realInterval,f=d.tickInterval,g=Ut(n.data[u],h,p,f),x=(c.endAngle-c.startAngle)*.2,A=new lt({x:i.x,y:i.y,radius:0,startAngle:c.startAngle+x,endAngle:c.endAngle-x,fillStyle:he,extraData:{radius:g},cursor:"pointer"});return A}),s=function(){o.forEach(function(u){u.animateCartoon({radius:u.data.extraData.radius},{duration:500,easing:"quadraticInOut"})})};return{elements:o,afterAppendStage:s}}var qr={},Qr=function(i){N()(t,i);var n=X()(t);function t(){var e;D()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=n.call.apply(n,[this].concat(a)),v()(T()(e),"data",[]),v()(T()(e),"mainElements",[]),v()(T()(e),"backgroundElements",[]),v()(T()(e),"polarBarElements",[]),v()(T()(e),"color",void 0),e}return k()(t,[{key:"render",value:function(r,a){var o=this,s=this.cr.coordinateSystem;if(this.seriesItem=m()(m()({},qr),r),r.coordinateSystem==="polar"){var c=Jr(this.cr.stage.center,r,s.polar),u=c.elements,d=c.afterAppendStage;this.polarBarElements=u,this.afterAppendStage=function(){d()};return}this.color=Gt[a];var h=s.cartesian2d.cartesian2dAxisData.xAxisData,p=s.cartesian2d.cartesian2dAxisData.yAxisData,f=this.cr.finalSeries;this.data=Nr(r.data,h,p,a===0?null:f[a-1].data);var g=h.axis.start.y;this.backgroundElements=r.showBackground?this.data.map(function(x){return new it({x:x.x,y:g,width:x.width,height:p.axis.end.y-p.axis.start.y,fillStyle:"rgba(180, 180, 180, 0.2)"})}):[],this.mainElements=this.data.map(function(x){var A={x:x.x,y:x.y+x.height,width:x.width,height:0,fillStyle:o.color,cursor:"pointer"},w=Reflect.has(r.itemStyle||{},"shortLength")?new ze(m()(m()({},A),{},{shortLength:r.itemStyle.shortLength})):new it(A);return w.onmouseenter=function(){w.animateCartoon({opacity:.8},{duration:200})},w.onmouseleave=function(){w.animateCartoon({opacity:1},{duration:200})},w})}},{key:"afterAppendStage",value:function(){var r=this;this.mainElements.forEach(function(a,o){var s=r.data[o];a.animateCartoon({y:s.y,height:s.height},{easing:"quadraticInOut",duration:500})})}},{key:"select",value:function(r){}},{key:"cancelSelect",value:function(r){}},{key:"getTooltipContent",value:function(r){return`
    <div style="`.concat(Z.row,`">
      <div style="`).concat(Z.tagSign(this.color),`"></div> 
      <div>`).concat(this.seriesItem.name||"",`</div>
      <div style="`).concat(Z.value,'">').concat(this.seriesItem.data[r],`</div>
    </div>`)}}]),t}(Kt);function Kr(i,n,t){var e=t.tickConstant,r=e.min,a=e.realInterval,o=e.tickInterval,s=n.ticks,c=t.axis.start.y,u=i.map(function(d,h){var p=O()(d,4),f=p[0],g=p[1],x=p[2],A=p[3],w=[f,g].sort(function(st,dt){return dt-st}),S=O()(w,2),M=S[0],E=S[1],R=Ct(M,c,r,a,o),P=Ct(E,c,r,a,o),I=n.axis.xAxisInterval/2,F=P-R,B=s[h].start.x,tt=B-I/2,et=g>f,nt=Ct(A,c,r,a,o),Y=Ct(x,c,r,a,o);return{topLine:{start:{x:B,y:nt},end:{x:B,y:R}},centerRect:{x:tt,y:R,width:I,height:F},bottomLine:{start:{x:B,y:Y},end:{x:B,y:R+F}},isRise:et}});return u}var ta={animationDuration:300,animation:!0},ea=function(i){N()(t,i);var n=X()(t);function t(){var e;D()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=n.call.apply(n,[this].concat(a)),v()(T()(e),"elements",[]),v()(T()(e),"afterAppendTasks",[]),v()(T()(e),"candleArray",void 0),e}return k()(t,[{key:"render",value:function(r){var a=this;this.seriesItem=m()(m()({},ta),r);var o={easing:"linear",duration:this.seriesItem.animationDuration},s=this.seriesItem.animation,c=this.cr.coordinateSystem.cartesian2d.cartesian2dAxisData.xAxisData,u=this.cr.coordinateSystem.cartesian2d.cartesian2dAxisData.yAxisData;return this.candleArray=Kr(r.data,c,u),this.candleArray.forEach(function(d){var h=d.topLine,p=d.centerRect,f=d.bottomLine,g=d.isRise,x=p.x,A=p.y,w=p.width,S=p.height,M=g?Ge:Xe,E=g?A+S:A,R=new G({points:Q(s?[{x:h.start.x,y:E},{x:h.end.x,y:E}]:[h.start,h.end]),strokeStyle:M,cursor:"pointer"});s&&a.afterAppendTasks.push(function(){R.animateCartoon({points:Q([h.start,h.end])},o)});var P=new G({points:Q(s?[{x:f.start.x,y:E},{x:f.end.x,y:E}]:[f.start,f.end]),strokeStyle:M,cursor:"pointer"});s&&a.afterAppendTasks.push(function(){P.animateCartoon({points:Q([f.start,f.end])},o)});var I=new it({x,y:s?E:A,width:w,height:s?0:S,fillStyle:M,strokeStyle:M,cursor:"pointer"});s&&a.afterAppendTasks.push(function(){I.animateCartoon({y:A,height:S},o)}),a.elements.push(R,P,I)}),this.elements}},{key:"afterAppendStage",value:function(){this.afterAppendTasks.forEach(function(r){r()})}},{key:"getTooltipContent",value:function(r){var a=O()(this.seriesItem.data[r],4),o=a[0],s=a[1],c=a[2],u=a[3],d=this.candleArray[r].isRise?Ge:Xe;return`
    <div style="`.concat(Z.row,`">
      <div style="`).concat(Z.tagSign(d),`"></div> 
      <div>opening</div>
      <div style="`).concat(Z.value,'">').concat(o,`</div>
    </div>

    <div style="`).concat(Z.row,`">
      <div style="`).concat(Z.tagSign(d),`"></div> 
      <div>closing</div>
      <div style="`).concat(Z.value,'">').concat(s,`</div>
    </div>

    <div style="`).concat(Z.row,`">
      <div style="`).concat(Z.tagSign(d),`"></div> 
      <div>top</div>
      <div style="`).concat(Z.value,'">').concat(c,`</div>
    </div>

    <div style="`).concat(Z.row,`">
      <div style="`).concat(Z.tagSign(d),`"></div> 
      <div>bottom</div>
      <div style="`).concat(Z.value,'">').concat(u,`</div>
    </div>
`)}}]),t}(Kt),na=ea,ra=function(){function i(n){D()(this,i),v()(this,"cr",void 0),v()(this,"elements",[]),v()(this,"seriesInstances",[]),v()(this,"legendData",[]),v()(this,"afterTasks",[]),this.cr=n}return k()(i,[{key:"render",value:function(t){var e=this;t.forEach(function(r,a){switch(r.type){case"line":{var o,s=new Zr(e.cr);s.render(r,a),e.seriesInstances.push(s),e.elements.push(s.lineElements.mainPolyline),(o=e.elements).push.apply(o,z()(s.lineElements.arcs)),r.name&&e.legendData.push({label:r.name,color:s.color}),e.afterTasks.push(function(){s.afterAppendStage()});break}case"bar":{var c,u,d,h=new Qr(e.cr);h.render(r,a),e.seriesInstances.push(h),(c=e.elements).push.apply(c,z()(h.backgroundElements)),(u=e.elements).push.apply(u,z()(h.mainElements)),(d=e.elements).push.apply(d,z()(h.polarBarElements)),e.afterTasks.push(function(){h.afterAppendStage()});break}case"pie":{var p,f,g,x=new Xr(e.cr);x.render(r),x.onSelected=function(S){e.onSelect(S,x)},e.seriesInstances.push(x),(p=e.legendData).push.apply(p,z()(x.data.map(function(S){return{color:S.color,label:S.label}}))),(f=e.elements).push.apply(f,z()(x.pieElements)),(g=e.elements).push.apply(g,z()(x.labelElements)),e.afterTasks.push(function(){x.afterAppendStage()});break}case"candlestick":{var A,w=new na(e.cr);w.render(r),e.seriesInstances.push(w),(A=e.elements).push.apply(A,z()(w.elements)),e.afterTasks.push(function(){w.afterAppendStage()});break}default:console.log("\u65B0\u56FE\u5F85\u5B9E\u73B0")}})}},{key:"lineSeriesInstances",get:function(){return this.seriesInstances.filter(function(t){return t.seriesItem.type==="line"})}},{key:"pieSeriesInstances",get:function(){return this.seriesInstances.filter(function(t){return t.seriesItem.type==="pie"})}},{key:"select",value:function(t){var e=this.lineSeriesInstances.filter(function(a){return a.seriesItem.name===t.label}),r=this.lineSeriesInstances.filter(function(a){return a.seriesItem.name!==t.label});e.forEach(function(a){a.select()}),r.forEach(function(a){a.cancelSelect()}),this.pieSeriesInstances.forEach(function(a){a.select(t)})}},{key:"cancelSelect",value:function(t){this.lineSeriesInstances.forEach(function(e){e.resetNormal()}),this.pieSeriesInstances.forEach(function(e){e.cancelSelect(t)})}},{key:"onSelect",value:function(t,e){}},{key:"getAxisTooltipContent",value:function(t){var e=this.seriesInstances.map(function(r){return r.getTooltipContent(t)});return e.reduce(function(r,a){return r+a},"")}}]),i}(),aa=function(n,t,e){var r=Math.floor(t+(e-t)*n.startRatio),a=Math.ceil(t+(e-t)*n.endRatio);return{startIndex:r,endIndex:a}},ia=function(n){return Ot(n)?{startRatio:n.dataZoom[0].start/100,endRatio:n.dataZoom[0].end/100}:{startRatio:0,endRatio:100}},oa=function(){function i(n){var t=this;D()(this,i),v()(this,"wrapperContainer",void 0),v()(this,"firstSetOption",!0),v()(this,"stage",void 0),v()(this,"userOption",void 0),v()(this,"dataZoomOption",void 0),v()(this,"finalSeries",void 0),v()(this,"seriesManager",void 0),v()(this,"legend",void 0),v()(this,"dataZoom",void 0),v()(this,"coordinateSystem",void 0),v()(this,"assistLine",void 0),v()(this,"tooltip",void 0),v()(this,"renderedElements",[]),v()(this,"_range",void 0);var e=document.createElement("div");e.style.setProperty("position","relative"),e.style.setProperty("width","100%"),e.style.setProperty("height","100%"),n.appendChild(e),this.stage=new Fe({container:e}),this.wrapperContainer=e;var r=!1;this.stage.onmousemove=function(a){if(t.coordinateSystem.hasCartesian2d){if(t.isInnerCartesian2dRect(a.x,a.y)){var o,s;if(!r){var c,u;r=!0,(c=t.assistLine)===null||c===void 0||c.onCartesian2dRectMouseenter(a),(u=t.tooltip)===null||u===void 0||u.onCartesian2dRectMouseenter(a)}(o=t.assistLine)===null||o===void 0||o.onCartesian2dRectMousemove(a),(s=t.tooltip)===null||s===void 0||s.onCartesian2dRectMousemove(a)}else if(r){var d,h;r=!1,(d=t.assistLine)===null||d===void 0||d.onCartesian2dRectMouseleave(a),(h=t.tooltip)===null||h===void 0||h.onCartesian2dRectMouseleave(a)}}},this.stage.onmouseleave=function(){var a,o;r=!1,(a=t.tooltip)===null||a===void 0||a.hide(),(o=t.assistLine)===null||o===void 0||o.setVisible(!1)}}return k()(i,[{key:"isInnerCartesian2dRect",value:function(t,e){var r=this.coordinateSystem.cartesian2d.cartesian2dAxisData,a=r.yAxisData,o=r.xAxisData,s=o.axis.start.x,c=o.axis.end.x,u=a.axis.start.y,d=a.axis.end.y;return Fr(t,e,s,c,d,u)}},{key:"calcFinalSeries",value:function(){var t=sa(this.dataZoomOption.series);this.finalSeries=t}},{key:"renderCoordinateSystem",value:function(){var t=[];this.coordinateSystem=Ir(this.stage,this.dataZoomOption,this.finalSeries);var e=this.coordinateSystem;if(e.hasCartesian2d){var r=e.cartesian2d.cartesian2dAllShapes;t.push.apply(t,z()(r))}return e.hasPolar&&t.push.apply(t,z()(e.polar.polarAllShapes)),t}},{key:"renderDataZoom",value:function(){var t=this;return this.dataZoom=new br(this),this.dataZoom.render(this._range),this.dataZoom.onRange=function(e){t._range=e,t.setOption(t.userOption,e)},this.dataZoom.elements}},{key:"setOption",value:function(t,e){var r,a,o=this;this.renderedElements=[],this.firstSetOption=!1,this.userOption=t,e||(e=ia(this.userOption));var s=Wr(this.userOption);if(s.xAxis){var c=aa(e,0,s.xAxis.data.length),u=c.startIndex,d=c.endIndex;s.xAxis.data=s.xAxis.data.slice(u,d),s.series.forEach(function(g){g.data=g.data.slice(u,d)})}this.dataZoomOption=s,this.calcFinalSeries(),(r=this.renderedElements).push.apply(r,z()(this.renderCoordinateSystem())),(a=this.renderedElements).push.apply(a,z()(this.renderDataZoom()));{var h;this.seriesManager=new ra(this),this.seriesManager.render(this.finalSeries),this.seriesManager.onSelect=function(g,x){o.tooltip.externalShow(x,g)},(h=this.renderedElements).push.apply(h,z()(this.seriesManager.elements))}{var p;this.legend=new Lr(this),this.legend.render(this.seriesManager.legendData),(p=this.renderedElements).push.apply(p,z()(this.legend.elements)),this.legend.onSelect=function(g){o.seriesManager.select(g)},this.legend.onCancelSelect=function(g){o.seriesManager.cancelSelect(g)}}if(this.coordinateSystem.hasCartesian2d){var f;this.assistLine=new jr(this),this.assistLine.render(),(f=this.renderedElements).push.apply(f,z()(this.assistLine.elements))}this.tooltip=new Vr(this),this.refreshChart()}},{key:"refreshChart",value:function(){var t=this.stage;t.removeAllShape(),t.append(this.renderedElements),this.seriesManager.afterTasks.forEach(function(e){e()})}}]),i}();function sa(i){var n=i.map(function(t){var e=m()({},t);return e.type==="pie"?(e.coordinateSystem=void 0,e):(e.coordinateSystem||(e.coordinateSystem="cartesian2d"),e)}).map(function(t,e){switch(t.type){case"line":case"bar":if(t.stack!=="sign")return t;var r=i;return m()(m()({},t),{},{data:t.data.map(function(a,o){return a+r.filter(function(s){return s.stack==="sign"}).slice(0,e).map(function(s){return s.data[o]}).reduce(function(s,c){return s+c},0)})});default:return t}});return n}var ca={init:function(n){return new oa(n)}},te=ca,ua=function(n){var t=n.option,e=n.width,r=e===void 0?750:e,a=n.height,o=a===void 0?500:a,s=n.containerStyle,c=(0,y.useRef)(),u=(0,y.useRef)(null);return(0,y.useEffect)(function(){var d=te.init(u.current);c.current=d},[]),(0,y.useEffect)(function(){c.current.setOption(t)},[t]),(0,K.jsx)("div",{ref:u,style:m()({width:r,height:o},s)})},la=function(n){var t=n.option,e=n.width,r=e===void 0?750:e,a=n.height,o=a===void 0?500:a,s=n.containerStyle,c=(0,y.useRef)(),u=(0,y.useRef)(null);return(0,y.useEffect)(function(){var d=te.init(u.current);c.current=d},[]),(0,y.useEffect)(function(){c.current.setOption(t)},[t]),(0,K.jsx)("div",{ref:u,style:m()({width:r,height:o},s)})},da=function(n){var t=n.option,e=n.width,r=e===void 0?750:e,a=n.height,o=a===void 0?500:a,s=n.containerStyle,c=(0,y.useRef)(),u=(0,y.useRef)(null);return(0,y.useEffect)(function(){var d=te.init(u.current);c.current=d},[]),(0,y.useEffect)(function(){c.current.setOption(t)},[t]),(0,K.jsx)("div",{ref:u,style:m()({width:r,height:o},s)})},fa=function(n){var t=n.option,e=n.width,r=e===void 0?750:e,a=n.height,o=a===void 0?500:a,s=n.containerStyle,c=(0,y.useRef)(),u=(0,y.useRef)(null);return(0,y.useEffect)(function(){var d=te.init(u.current);c.current=d},[]),(0,y.useEffect)(function(){c.current.setOption(t)},[t]),(0,K.jsx)("div",{ref:u,style:m()({width:r,height:o},s)})}},25098:function(b){function H(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}b.exports=H,b.exports.__esModule=!0,b.exports.default=b.exports},64599:function(b,H,C){var V=C(96263);function O(_,m){var y=typeof Symbol!="undefined"&&_[Symbol.iterator]||_["@@iterator"];if(!y){if(Array.isArray(_)||(y=V(_))||m&&_&&typeof _.length=="number"){y&&(_=y);var $=0,D=function(){};return{s:D,n:function(){return $>=_.length?{done:!0}:{done:!1,value:_[$++]}},e:function(ut){throw ut},f:D}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var q=!0,k=!1,W;return{s:function(){y=y.call(_)},n:function(){var ut=y.next();return q=ut.done,ut},e:function(ut){k=!0,W=ut},f:function(){try{!q&&y.return!=null&&y.return()}finally{if(k)throw W}}}}b.exports=O,b.exports.__esModule=!0,b.exports.default=b.exports},26037:function(b,H,C){var V=C(48374),O=C(21771),_=C(73408);function m(y){var $=O();return function(){var q=V(y),k;if($){var W=V(this).constructor;k=Reflect.construct(q,arguments,W)}else k=q.apply(this,arguments);return _(this,k)}}b.exports=m,b.exports.__esModule=!0,b.exports.default=b.exports},48374:function(b){function H(C){return b.exports=H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},b.exports.__esModule=!0,b.exports.default=b.exports,H(C)}b.exports=H,b.exports.__esModule=!0,b.exports.default=b.exports},31996:function(b,H,C){var V=C(21314);function O(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),m&&V(_,m)}b.exports=O,b.exports.__esModule=!0,b.exports.default=b.exports},21771:function(b){function H(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}b.exports=H,b.exports.__esModule=!0,b.exports.default=b.exports},73408:function(b,H,C){var V=C(52677).default,O=C(25098);function _(m,y){if(y&&(V(y)==="object"||typeof y=="function"))return y;if(y!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O(m)}b.exports=_,b.exports.__esModule=!0,b.exports.default=b.exports},21314:function(b){function H(C,V){return b.exports=H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,m){return _.__proto__=m,_},b.exports.__esModule=!0,b.exports.default=b.exports,H(C,V)}b.exports=H,b.exports.__esModule=!0,b.exports.default=b.exports},61227:function(b,H,C){var V=C(82187),O=C(96936),_=C(96263),m=C(69094);function y($){return V($)||O($)||_($)||m()}b.exports=y,b.exports.__esModule=!0,b.exports.default=b.exports},5729:function(b,H,C){"use strict";C.r(H),C.d(H,{default:function(){return O}});var V=C(1343);function O(_,m){var{space:y,values:$,alpha:D}=(0,V.Z)(_);return y[0]==="h"?`${y}a(${$[0]}, ${$[1]}%, ${$[2]}%, ${m})`:`${y}a(${$}, ${m})`}},1343:function(b,H,C){"use strict";C.d(H,{Z:function(){return O}});var V={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},O=m,_={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function m(y){var X,Ht;var $,D=[],q=1,k;if(typeof y=="number")return{space:"rgb",values:[y>>>16,(y&65280)>>>8,y&255],alpha:1};if(typeof y=="number")return{space:"rgb",values:[y>>>16,(y&65280)>>>8,y&255],alpha:1};if(y=String(y).toLowerCase(),V[y])D=V[y].slice(),k="rgb";else if(y==="transparent")q=0,k="rgb",D=[0,0,0];else if(y[0]==="#"){var W=y.slice(1),T=W.length,ut=T<=4;q=1,ut?(D=[parseInt(W[0]+W[0],16),parseInt(W[1]+W[1],16),parseInt(W[2]+W[2],16)],T===4&&(q=parseInt(W[3]+W[3],16)/255)):(D=[parseInt(W[0]+W[1],16),parseInt(W[2]+W[3],16),parseInt(W[4]+W[5],16)],T===8&&(q=parseInt(W[6]+W[7],16)/255)),D[0]||(D[0]=0),D[1]||(D[1]=0),D[2]||(D[2]=0),k="rgb"}else if($=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(y)){var N=$[1];k=N.replace(/a$/,"");var ne=k==="cmyk"?4:k==="gray"?1:3;D=$[2].trim().split(/\s*[,\/]\s*|\s+/),k==="color"&&(k=D.shift()),D=D.map(function(v,ft){if(v[v.length-1]==="%")return v=parseFloat(v)/100,ft===3?v:k==="rgb"?v*255:k[0]==="h"||k[0]==="l"&&!ft?v*100:k==="lab"?v*125:k==="lch"?ft<2?v*150:v*360:k[0]==="o"&&!ft?v:k==="oklab"?v*.4:k==="oklch"?ft<2?v*.4:v*360:v;if(k[ft]==="h"||ft===2&&k[k.length-1]==="h"){if(_[v]!==void 0)return _[v];if(v.endsWith("deg"))return parseFloat(v);if(v.endsWith("turn"))return parseFloat(v)*360;if(v.endsWith("grad"))return parseFloat(v)*360/400;if(v.endsWith("rad"))return parseFloat(v)*180/Math.PI}return v==="none"?0:parseFloat(v)}),q=D.length>ne?D.pop():1}else/[0-9](?:\s|\/|,)/.test(y)&&(D=y.match(/([0-9]+)/g).map(function(v){return parseFloat(v)}),k=((Ht=(X=y.match(/([a-z])/ig))==null?void 0:X.join(""))==null?void 0:Ht.toLowerCase())||"rgb");return{space:k,values:D,alpha:q}}}}]);
